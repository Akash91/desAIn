{"version":3,"sources":["components/PaletteComponent.js","components/MediaCard.js","components/ScrollableTabsButtonAuto.js","components/ClusterComponent.js","Types.js","constants/urls.js","actions.js","components/Gallery.js","constants/brief.js","components/Brief.js","App.js","serviceWorker.js","reducers.js","index.js","store.js"],"names":["PaletteComponent","sendBlocks","react_default","a","createElement","style","_this","makeStyleObjectTwo","makeStyleObject","props","palette","colors","backgroundColor","concat","height","width","display","border","margin","console","log","this","Component","MediaCard","src","url","components_PaletteComponent","TabContainer","Typography","component","padding","children","useStyles","makeStyles","theme","root","background","paper","printToScreen","cluster","jsx","i","length","push","ScrollableTabsButtonAuto","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","value","setValue","className","AppBar","position","color","Tabs","onChange","event","newValue","indicatorColor","textColor","variant","scrollButtons","Tab","label","CanvasImage","image","canvas","document","context","getContext","body","appendChild","drawImage","prototype","clear","clearRect","update","imageData","putImageData","getPixelCount","getImageData","removeCanvas","parentNode","removeChild","ColorThief","getColor","sourceImage","quality","getPalette","colorCount","offset","r","g","b","pixels","data","pixelCount","pixelArray","cmap","MMCQ","quantize","getColorFromUrl","imageUrl","callback","thief","addEventListener","dominantColor","getPaletteFromUrl","arguments","undefined","Date","getTime","setAttribute","xhr","XMLHttpRequest","open","responseType","onload","e","status","uInt8Array","Uint8Array","response","binaryString","Array","String","fromCharCode","join","base64","window","btoa","send","getColorAsync","pv","map","array","f","o","d","index","call","slice","naturalOrder","sum","reduce","p","max","Math","apply","sigbits","rshift","maxIterations","fractByPopulations","getColorIndex","PQueue","comparator","contents","sorted","sort","peek","pop","size","debug","VBox","r1","r2","g1","g2","b1","b2","histo","CMap","vboxes","vbox","count","volume","medianCutApply","rw","gw","bw","maxw","copy","j","k","total","partialsum","lookaheadsum","forEach","doCut","left","right","vbox1","vbox2","d2","dim1","dim2","count2","min","force","_volume","_count_set","npix","_count","avg","_avg","hval","ntot","mult","rsum","gsum","bsum","contains","pixel","rval","gval","bval","vb","nearest","d1","pColor","sqrt","pow","forcebw","lowest","idx","highest","maxcolors","getHisto","rmin","rmax","gmin","gmax","bmin","bmax","vboxFromPixels","pq","iter","lh","target","ncolors","niters","pq2","once","ClusterComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","histograms","numberOfClusters","palettes","cl","getHistogram","asyncToGenerator","regenerator_default","mark","_callee","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","histogram","wrap","_context","prev","next","images","Symbol","iterator","done","Image","load","sent","getColorHistogram","useAlpha","nbSlots","t0","return","finish","abrupt","stop","getP","_ref2","_callee2","colorThief","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_context2","_x","clusterKMeans","kmeans","getPaletteCluster","then","clusters","setTimeout","JSON","stringify","c","setState","state","showClusters","isGalleryLoading","connect","list","toConsumableArray","Set","item","FETCH_IMAGES_STARTED","FETCH_IMAGES_SUCCESS","FETCH_IMAGES_FAIL","BEFORE_FETCH_START","AFTER_FETCH_COMPLETE","SET_FORM_DATA","listOfQueryUrls","UNSPLASH","getReshotImg","items","eachItem","attributes","source","getUnsplashImg","results","id","urls","smallUrl","fetchData","urlObjs","headerObj","dispatch","itemsIsLoading","Promise","all","urlObj","fetch","method","contentType","headers","ok","Error","statusText","json","imgObjs","type","TYPES","itemsFetchDataSuccess","catch","hasErrored","fullList","afterFetchComplete","bool","isLoading","Gallery","_this$props","fetchImages","beforeFetchStart","promiseUrlObj","searchTerms","keys","eachSource","eachListItem","searchTermArray","questionSet","name","options","possibleValues","radioName","Brief","form","questionName","pageRef","createRef","inpName","values","indexOf","checked","splice","preventDefault","stopPropagation","setFormData","moveTo","_this2","ref","Form_default","questionObj","Group","controlId","Label","Control","as","handleChange","option","class","eachCheckbox","Check","data-label","Button_default","onClick","handleClick","bind","formData","App","sectionShown","string","shown","components_Brief","components_Gallery","Fragment","components_ClusterComponent","Boolean","location","hostname","match","initialState","user","reducers","action","newObj","objectSpread","emptyList","filter","object","x","includes","uniqueId","loaded","aboutProduct","emotionalBenefits","each","tangibleBenefits","groupType","ageGroup","brandStand","getSearchTerms","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","es","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qYA6CeA,qNAtBXC,WAAa,WACT,OACIC,EAAAC,EAAAC,cAAA,OAAKC,MAAOC,EAAKC,sBACbL,EAAAC,EAAAC,cAAA,OAAKC,MAAOC,EAAKE,gBAAgBF,EAAKG,MAAMC,QAAQ,MACpDR,EAAAC,EAAAC,cAAA,OAAKC,MAAOC,EAAKE,gBAAgBF,EAAKG,MAAMC,QAAQ,MACpDR,EAAAC,EAAAC,cAAA,OAAKC,MAAOC,EAAKE,gBAAgBF,EAAKG,MAAMC,QAAQ,MACpDR,EAAAC,EAAAC,cAAA,OAAKC,MAAOC,EAAKE,gBAAgBF,EAAKG,MAAMC,QAAQ,MACpDR,EAAAC,EAAAC,cAAA,OAAKC,MAAOC,EAAKE,gBAAgBF,EAAKG,MAAMC,QAAQ,uFAzBhDC,GACZ,MAAQ,CACJC,gBAAe,OAAAC,OAASF,EAAO,GAAhB,KAAAE,OAAsBF,EAAO,GAA7B,KAAAE,OAAmCF,EAAO,GAA1C,KACfG,OAAQ,QACRC,MAAO,MACPC,QAAS,eACTC,OAAQ,kEAKZ,MAAQ,CACJD,QAAS,eACTD,MAAO,OACPG,OAAQ,2CAoBZ,OAFAC,QAAQC,IAAIC,KAAKZ,MAAMC,SAEfR,EAAAC,EAAAC,cAAA,WACHiB,KAAKpB,qBArCaqB,cCuEhB,SAASC,EAAUd,GAGhC,OACEP,EAAAC,EAAAC,cAAA,QAAMC,MArBA,CAEJU,MAAO,MACPC,QAAS,eACTE,OAAQ,aAkBRhB,EAAAC,EAAAC,cAAA,OAAKoB,IAAKf,EAAMgB,IAAKpB,MAbjB,CAEJU,MAAO,OACPE,OAAQ,qBAWRf,EAAAC,EAAAC,cAACsB,EAAD,CAAkBhB,QAASD,EAAMC,WCtEvC,SAASiB,EAAalB,GACpB,OACEP,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAYC,UAAU,MAAMxB,MAAO,CAAEyB,QAAS,KAC3CrB,EAAMsB,UASb,IAAMC,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CAEJpB,MAAO,OACPH,gBAAiBsB,EAAMxB,QAAQ0B,WAAWC,UAI9C,SAASC,EAAeC,EAAS7B,GAE/B,IADA,IAAI8B,EAAM,GACDC,EAAE,EAAEA,EAAEF,EAAQG,OAAOD,IAC5BD,EAAIG,KAAKzC,EAAAC,EAAAC,cAACmB,EAAD,CAAWE,IAAKc,EAAQE,GAAGhC,MAAMe,IAAKd,QAASA,EAAQ+B,MAElE,OAAOD,EAGM,SAASI,EAAyBnC,GAC/C,IAAMoC,EAAUb,IADsCc,EAE5BC,IAAMC,SAAS,GAFaC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAE/CM,EAF+CH,EAAA,GAExCI,EAFwCJ,EAAA,GAQtD,OACE/C,EAAAC,EAAAC,cAAA,OAAKkD,UAAWT,EAAQV,MACtBjC,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAQC,SAAS,SAASC,MAAM,WAC9BvD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CACEN,MAAOA,EACPO,SATR,SAAsBC,EAAOC,GAC3BR,EAASQ,IASHC,eAAe,UACfC,UAAU,UACVC,QAAQ,aACRC,cAAc,QAEd/D,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAKC,MAAM,iBACXjE,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAKC,MAAM,iBACXjE,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAKC,MAAM,iBACXjE,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAKC,MAAM,iBACXjE,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAKC,MAAM,mBAGdhD,QAAQC,IAAI,uBAAwBX,EAAM8B,SAC1CpB,QAAQC,IAAI,sBAAuBX,EAAMC,SAE/B,IAAV0C,GAAelD,EAAAC,EAAAC,cAACuB,EAAD,KAAeW,EAAc7B,EAAM8B,QAAQ,GAAI9B,EAAMC,QAAQ,KAClE,IAAV0C,GAAelD,EAAAC,EAAAC,cAACuB,EAAD,KAAeW,EAAc7B,EAAM8B,QAAQ,GAAI9B,EAAMC,QAAQ,KAClE,IAAV0C,GAAelD,EAAAC,EAAAC,cAACuB,EAAD,KAAeW,EAAc7B,EAAM8B,QAAQ,GAAI9B,EAAMC,QAAQ,KAClE,IAAV0C,GAAelD,EAAAC,EAAAC,cAACuB,EAAD,KAAeW,EAAc7B,EAAM8B,QAAQ,GAAI9B,EAAMC,QAAQ,KAClE,IAAV0C,GAAelD,EAAAC,EAAAC,cAACuB,EAAD,KAAeW,EAAc7B,EAAM8B,QAAQ,GAAI9B,EAAMC,QAAQ,MCpCnF,IAAI0D,EAAc,SAAUC,GACxBhD,KAAKiD,OAAUC,SAASnE,cAAc,UACtCiB,KAAKmD,QAAUnD,KAAKiD,OAAOG,WAAW,MAEtCF,SAASG,KAAKC,YAAYtD,KAAKiD,QAE/BjD,KAAKN,MAASM,KAAKiD,OAAOvD,MAASsD,EAAMtD,MACzCM,KAAKP,OAASO,KAAKiD,OAAOxD,OAASuD,EAAMvD,OAEzCO,KAAKmD,QAAQI,UAAUP,EAAO,EAAG,EAAGhD,KAAKN,MAAOM,KAAKP,SAGzDsD,EAAYS,UAAUC,MAAQ,WAC1BzD,KAAKmD,QAAQO,UAAU,EAAG,EAAG1D,KAAKN,MAAOM,KAAKP,SAGlDsD,EAAYS,UAAUG,OAAS,SAAUC,GACrC5D,KAAKmD,QAAQU,aAAaD,EAAW,EAAG,IAG5Cb,EAAYS,UAAUM,cAAgB,WAClC,OAAO9D,KAAKN,MAAQM,KAAKP,QAG7BsD,EAAYS,UAAUO,aAAe,WACjC,OAAO/D,KAAKmD,QAAQY,aAAa,EAAG,EAAG/D,KAAKN,MAAOM,KAAKP,SAG5DsD,EAAYS,UAAUQ,aAAe,WACjChE,KAAKiD,OAAOgB,WAAWC,YAAYlE,KAAKiD,SAI5C,IAAIkB,EAAa,aA0JjB,GA3IAA,EAAWX,UAAUY,SAAW,SAASC,EAAaC,GAGlD,OAFoBtE,KAAKuE,WAAWF,EAAa,EAAGC,GACxB,IAsBhCH,EAAWX,UAAUe,WAAa,SAASF,EAAaG,EAAYF,IAEtC,qBAAfE,GAA8BA,EAAa,GAAKA,EAAa,OACpEA,EAAa,KAEM,qBAAZF,GAA2BA,EAAU,KAC5CA,EAAU,IAWd,IAPA,IAOgBG,EAAQC,EAAGC,EAAGC,EAP1B5B,EAAa,IAAID,EAAYsB,GAE7BQ,EADa7B,EAAMe,eACIe,KACvBC,EAAa/B,EAAMc,gBAGnBkB,EAAa,GACR5D,EAAI,EAAuBA,EAAI2D,EAAY3D,GAAQkD,EAExDI,EAAIG,GADJJ,EAAa,EAAJrD,GACW,GACpBuD,EAAIE,EAAOJ,EAAS,GACpBG,EAAIC,EAAOJ,EAAS,GAChBI,EAAOJ,EAAS,IAEX,MACCC,EAAI,KAAOC,EAAI,KAAOC,EAAI,KAC5BI,EAAW1D,KAAK,CAACoD,EAAGC,EAAGC,KAOnC,IAAIK,EAAUC,EAAKC,SAASH,EAAYR,GACpCnF,EAAU4F,EAAMA,EAAK5F,UAAY,KAKrC,OAFA2D,EAAMgB,eAEC3E,GAGX8E,EAAWX,UAAU4B,gBAAkB,SAASC,EAAUC,EAAUhB,GAChE,IAAID,EAAcnB,SAASnE,cAAc,OACrCwG,EAAQvF,KACZqE,EAAYmB,iBAAiB,OAAS,WAClC,IACIC,EADUF,EAAMhB,WAAWF,EAAa,EAAGC,GACnB,GAC5BgB,EAASG,EAAeJ,KAE5BhB,EAAYlE,IAAMkF,GAGtBlB,EAAWX,UAAUkC,kBAAoB,SAASL,EAAUC,GAAqB,IAAXhB,EAAWqB,UAAAtE,OAAA,QAAAuE,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACtEtB,EAAcnB,SAASnE,cAAc,OACrCwG,EAAQvF,KACZqE,EAAYmB,iBAAiB,OAAS,WAClC,IAAInG,EAAUkG,EAAMhB,WAAWF,EAAa,EAAGC,GAE/CgB,EAASjG,EAASgG,KAGtBhB,EAAYlE,IAAMkF,EAAW,KAAM,IAAIQ,MAAOC,UAC9CzB,EAAY0B,aAAa,cAAe,KAI5C5B,EAAWX,UAAUO,aAAe,SAASsB,EAAUC,GACnD,IAAIU,EAAM,IAAIC,eACdD,EAAIE,KAAK,MAAOb,GAAU,GAC1BW,EAAIG,aAAe,cACnBH,EAAII,OAAS,SAASC,GAClB,GAAmB,KAAfrG,KAAKsG,OAAe,CACpB,IAAIC,EAAa,IAAIC,WAAWxG,KAAKyG,UACrCrF,EAAImF,EAAWlF,OAEf,IADA,IAAIqF,EAAe,IAAIC,MAAMvF,GACpBA,EAAI,EAAGA,EAAImF,EAAWlF,OAAQD,IACnCsF,EAAatF,GAAKwF,OAAOC,aAAaN,EAAWnF,IAErD,IAAI0D,EAAO4B,EAAaI,KAAK,IACzBC,EAASC,OAAOC,KAAKnC,GACzBQ,EAAU,yBAAyByB,KAG3Cf,EAAIkB,QAGR/C,EAAWX,UAAU2D,cAAgB,SAAS9B,EAAUC,EAAUhB,GAC9D,IAAIiB,EAAQvF,KACZA,KAAK+D,aAAasB,EAAU,SAASzB,GACjC,IAAIS,EAAcnB,SAASnE,cAAc,OACzCsF,EAAYmB,iBAAiB,OAAS,WAClC,IACIC,EADUF,EAAMhB,WAAWF,EAAa,EAAGC,GACnB,GAC5BgB,EAASG,EAAezF,QAE5BqE,EAAYlE,IAAMyD,MAmBrBwD,EACD,IAAIA,EAAK,CACLC,IAAK,SAASC,EAAOC,GACnB,IAAIC,EAAI,GACR,OAAOD,EAAID,EAAMD,IAAI,SAASI,EAAGrG,GAAkB,OAAboG,EAAEE,MAAQtG,EAAUmG,EAAEI,KAAKH,EAAGC,KAASH,EAAMM,SAErFC,aAAc,SAAS/I,EAAG8F,GACtB,OAAQ9F,EAAI8F,GAAM,EAAM9F,EAAI8F,EAAK,EAAI,GAEzCkD,IAAK,SAASR,EAAOC,GACnB,IAAIC,EAAI,GACR,OAAOF,EAAMS,OAAOR,EAAI,SAASS,EAAGP,EAAGrG,GAAkB,OAAboG,EAAEE,MAAQtG,EAAU4G,EAAIT,EAAEI,KAAKH,EAAGC,IAAQ,SAASO,EAAGP,GAAK,OAAOO,EAAIP,GAAM,IAE1HQ,IAAK,SAASX,EAAOC,GACnB,OAAOW,KAAKD,IAAIE,MAAM,KAAMZ,EAAIH,EAAGC,IAAIC,EAAOC,GAAKD,KA6B7D,IAAIpC,EAAQ,WAER,IAAIkD,EAAU,EACVC,EAAS,EAAID,EACbE,EAAgB,IAChBC,EAAqB,IAGzB,SAASC,EAAc9D,EAAGC,EAAGC,GACzB,OAAQF,GAAM,EAAI0D,IAAazD,GAAKyD,GAAWxD,EAInD,SAAS6D,EAAOC,GACZ,IAAIC,EAAW,GACXC,GAAS,EAEb,SAASC,IACLF,EAASE,KAAKH,GACdE,GAAS,EAGb,MAAO,CACHtH,KAAM,SAASkG,GACXmB,EAASrH,KAAKkG,GACdoB,GAAS,GAEbE,KAAM,SAASpB,GAGX,OAFKkB,GAAQC,SACDjD,IAAR8B,IAAmBA,EAAQiB,EAAStH,OAAS,GAC1CsH,EAASjB,IAEpBqB,IAAK,WAED,OADKH,GAAQC,IACNF,EAASI,OAEpBC,KAAM,WACF,OAAOL,EAAStH,QAEpBgG,IAAK,SAASE,GACV,OAAOoB,EAAStB,IAAIE,IAExB0B,MAAO,WAEH,OADKL,GAAQC,IACNF,IAMnB,SAASO,EAAKC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACvBzJ,KACNmJ,GAAKA,EADCnJ,KAENoJ,GAAKA,EAFCpJ,KAGNqJ,GAAKA,EAHCrJ,KAINsJ,GAAKA,EAJCtJ,KAKNuJ,GAAKA,EALCvJ,KAMNwJ,GAAKA,EANCxJ,KAONyJ,MAAQA,EAiFjB,SAASC,IACL1J,KAAK2J,OAAS,IAAIlB,EAAO,SAAS3J,EAAE8F,GAChC,OAAOwC,EAAGS,aACN/I,EAAE8K,KAAKC,QAAQ/K,EAAE8K,KAAKE,SACtBlF,EAAEgF,KAAKC,QAAQjF,EAAEgF,KAAKE,YAgGlC,SAASC,EAAeN,EAAOG,GAC3B,GAAKA,EAAKC,QAAV,CAEA,IAAIG,EAAKJ,EAAKR,GAAKQ,EAAKT,GAAK,EACzBc,EAAKL,EAAKN,GAAKM,EAAKP,GAAK,EACzBa,EAAKN,EAAKJ,GAAKI,EAAKL,GAAK,EACzBY,EAAO/C,EAAGa,IAAI,CAAC+B,EAAIC,EAAIC,IAE3B,GAAoB,GAAhBN,EAAKC,QACL,MAAO,CAACD,EAAKQ,QAGjB,IAGIhJ,EAAGiJ,EAAGC,EAAGxC,EAHTyC,EAAQ,EACRC,EAAa,GACbC,EAAe,GAEnB,GAAIN,GAAQH,EACR,IAAK5I,EAAIwI,EAAKT,GAAI/H,GAAKwI,EAAKR,GAAIhI,IAAK,CAEjC,IADA0G,EAAM,EACDuC,EAAIT,EAAKP,GAAIgB,GAAKT,EAAKN,GAAIe,IAC5B,IAAKC,EAAIV,EAAKL,GAAIe,GAAKV,EAAKJ,GAAIc,IAE5BxC,GAAQ2B,EADAjB,EAAcpH,EAAEiJ,EAAEC,KACF,EAGhCC,GAASzC,EACT0C,EAAWpJ,GAAKmJ,OAGnB,GAAIJ,GAAQF,EACb,IAAK7I,EAAIwI,EAAKP,GAAIjI,GAAKwI,EAAKN,GAAIlI,IAAK,CAEjC,IADA0G,EAAM,EACDuC,EAAIT,EAAKT,GAAIkB,GAAKT,EAAKR,GAAIiB,IAC5B,IAAKC,EAAIV,EAAKL,GAAIe,GAAKV,EAAKJ,GAAIc,IAE5BxC,GAAQ2B,EADAjB,EAAc6B,EAAEjJ,EAAEkJ,KACF,EAGhCC,GAASzC,EACT0C,EAAWpJ,GAAKmJ,OAIpB,IAAKnJ,EAAIwI,EAAKL,GAAInI,GAAKwI,EAAKJ,GAAIpI,IAAK,CAEjC,IADA0G,EAAM,EACDuC,EAAIT,EAAKT,GAAIkB,GAAKT,EAAKR,GAAIiB,IAC5B,IAAKC,EAAIV,EAAKP,GAAIiB,GAAKV,EAAKN,GAAIgB,IAE5BxC,GAAQ2B,EADAjB,EAAc6B,EAAEC,EAAElJ,KACF,EAGhCmJ,GAASzC,EACT0C,EAAWpJ,GAAKmJ,EAiCxB,OA9BAC,EAAWE,QAAQ,SAASjD,EAAErG,GAC1BqJ,EAAarJ,GAAKmJ,EAAM9C,IA6BRkD,EAAbR,GAAQH,EAAW,IACtBG,GAAQF,EAAW,IACb,KA7BV,SAASU,EAAMvI,GACX,IAEIwI,EAAMC,EAAOC,EAAOC,EAAOC,EAF3BC,EAAO7I,EAAQ,IACf8I,EAAO9I,EAAQ,IACgB+I,EAAO,EAC1C,IAAK/J,EAAIwI,EAAKqB,GAAO7J,GAAKwI,EAAKsB,GAAO9J,IAClC,GAAIoJ,EAAWpJ,GAAKmJ,EAAQ,EAAG,CAS3B,IARAO,EAAQlB,EAAKQ,OACbW,EAAQnB,EAAKQ,OAITY,GAHJJ,EAAOxJ,EAAIwI,EAAKqB,MAChBJ,EAAQjB,EAAKsB,GAAQ9J,GAEZ8G,KAAKkD,IAAIxB,EAAKsB,GAAQ,KAAM9J,EAAIyJ,EAAQ,IACvC3C,KAAKD,IAAI2B,EAAKqB,MAAU7J,EAAI,EAAIwJ,EAAO,KAEzCJ,EAAWQ,IAAKA,IAExB,IADAG,EAASV,EAAaO,IACdG,GAAUX,EAAWQ,EAAG,IAAIG,EAASV,IAAeO,GAK5D,OAHAF,EAAMI,GAAQF,EACdD,EAAME,GAAQH,EAAMI,GAAQ,EAErB,CAACJ,EAAOC,KA4F/B,OA9VA7B,EAAK1F,UAAY,CACbsG,OAAQ,SAASuB,GAKb,OAJWrL,KACDsL,UAAWD,IADVrL,KAEFsL,SAFEtL,KAEeoJ,GAFfpJ,KAEyBmJ,GAAK,IAF9BnJ,KAEyCsJ,GAFzCtJ,KAEmDqJ,GAAK,IAFxDrJ,KAEmEwJ,GAFnExJ,KAE6EuJ,GAAK,IAFlFvJ,KAICsL,SAEhBzB,MAAO,SAASwB,GACZ,IACI5B,EADOzJ,KACMyJ,MACjB,IAFWzJ,KAEDuL,YAAcF,EAAO,CAC3B,IACWjK,EAAGiJ,EAAGC,EADbkB,EAAO,EAEX,IAAKpK,EALEpB,KAKOmJ,GAAI/H,GALXpB,KAKqBoJ,GAAIhI,IAC5B,IAAKiJ,EANFrK,KAMWqJ,GAAIgB,GANfrK,KAMyBsJ,GAAIe,IAC5B,IAAKC,EAPNtK,KAOeuJ,GAAIe,GAPnBtK,KAO6BwJ,GAAIc,IAE3BkB,GAAS/B,EADDjB,EAAcpH,EAAEiJ,EAAEC,KACD,EAT/BtK,KAaFyL,OAASD,EAbPxL,KAcFuL,YAAa,EAEtB,OAhBWvL,KAgBCyL,QAEhBrB,KAAM,WAEF,OAAO,IAAIlB,EADAlJ,KACUmJ,GADVnJ,KACmBoJ,GADnBpJ,KAC4BqJ,GAD5BrJ,KACqCsJ,GADrCtJ,KAC8CuJ,GAD9CvJ,KACuDwJ,GADvDxJ,KACgEyJ,QAE/EiC,IAAK,SAASL,GACV,IACI5B,EADOzJ,KACMyJ,MACjB,IAFWzJ,KAED2L,MAAQN,EAAO,CACrB,IAKIO,EACAxK,EAAGiJ,EAAGC,EANNuB,EAAO,EACPC,EAAO,GAAM,EAAI1D,EACjB2D,EAAO,EACPC,EAAO,EACPC,EAAO,EAGX,IAAK7K,EAVEpB,KAUOmJ,GAAI/H,GAVXpB,KAUqBoJ,GAAIhI,IAC5B,IAAKiJ,EAXFrK,KAWWqJ,GAAIgB,GAXfrK,KAWyBsJ,GAAIe,IAC5B,IAAKC,EAZNtK,KAYeuJ,GAAIe,GAZnBtK,KAY6BwJ,GAAIc,IAG3BuB,GADAD,EAAOnC,EADMjB,EAAcpH,EAAEiJ,EAAEC,KACH,EAE5ByB,GAASH,GAAQxK,EAAI,IAAO0K,EAC5BE,GAASJ,GAAQvB,EAAI,IAAOyB,EAC5BG,GAASL,GAAQtB,EAAI,IAAOwB,EAlBlC9L,KAuBE2L,KADLE,EACY,IAAIE,EAAKF,MAAUG,EAAKH,MAAUI,EAAKJ,IAGvC,IACLC,GA3BJ9L,KA2BiBmJ,GA3BjBnJ,KA2B2BoJ,GAAK,GAAK,MACjC0C,GA5BJ9L,KA4BiBqJ,GA5BjBrJ,KA4B2BsJ,GAAK,GAAK,MACjCwC,GA7BJ9L,KA6BiBuJ,GA7BjBvJ,KA6B2BwJ,GAAK,GAAK,IAIhD,OAjCWxJ,KAiCC2L,MAEhBO,SAAU,SAASC,GACf,IACIC,EAAOD,EAAM,IAAM9D,EACnBgE,EAAOF,EAAM,IAAM9D,EACnBiE,EAAOH,EAAM,IAAM9D,EACvB,OAAQ+D,GAJGpM,KAIUmJ,IAAMiD,GAJhBpM,KAI6BoJ,IAChCiD,GALGrM,KAKUqJ,IAAMgD,GALhBrM,KAK6BsJ,IAChCgD,GANGtM,KAMUuJ,IAAM+C,GANhBtM,KAM6BwJ,KAahDE,EAAKlG,UAAY,CACblC,KAAM,SAASsI,GACX5J,KAAK2J,OAAOrI,KAAK,CACbsI,KAAMA,EACNxH,MAAOwH,EAAK8B,SAGpBrM,QAAS,WACL,OAAOW,KAAK2J,OAAOtC,IAAI,SAASkF,GAAM,OAAOA,EAAGnK,SAEpD4G,KAAM,WACF,OAAOhJ,KAAK2J,OAAOX,QAEvB3B,IAAK,SAASjF,GAEV,IADA,IAAIuH,EAAS3J,KAAK2J,OACTvI,EAAE,EAAGA,EAAEuI,EAAOX,OAAQ5H,IAC3B,GAAIuI,EAAOb,KAAK1H,GAAGwI,KAAKsC,SAAS9J,GAC7B,OAAOuH,EAAOb,KAAK1H,GAAGgB,MAG9B,OAAOpC,KAAKwM,QAAQpK,IAExBoK,QAAS,SAASpK,GAGd,IAFA,IACIqK,EAAIzB,EAAI0B,EADR/C,EAAS3J,KAAK2J,OAETvI,EAAE,EAAGA,EAAEuI,EAAOX,OAAQ5H,MAC3B4J,EAAK9C,KAAKyE,KACNzE,KAAK0E,IAAIxK,EAAM,GAAKuH,EAAOb,KAAK1H,GAAGgB,MAAM,GAAI,GAC7C8F,KAAK0E,IAAIxK,EAAM,GAAKuH,EAAOb,KAAK1H,GAAGgB,MAAM,GAAI,GAC7C8F,KAAK0E,IAAIxK,EAAM,GAAKuH,EAAOb,KAAK1H,GAAGgB,MAAM,GAAI,KAExCqK,QAAa7G,IAAP6G,KACXA,EAAKzB,EACL0B,EAAS/C,EAAOb,KAAK1H,GAAGgB,OAGhC,OAAOsK,GAEXG,QAAS,WAEL,IAAIlD,EAAS3J,KAAK2J,OAClBA,EAAOd,KAAK,SAAS/J,EAAE8F,GAAK,OAAOwC,EAAGS,aAAaT,EAAGU,IAAIhJ,EAAEsD,OAAQgF,EAAGU,IAAIlD,EAAExC,UAG7E,IAAI0K,EAASnD,EAAO,GAAGvH,MACnB0K,EAAO,GAAK,GAAKA,EAAO,GAAK,GAAKA,EAAO,GAAK,IAC9CnD,EAAO,GAAGvH,MAAQ,CAAC,EAAE,EAAE,IAG3B,IAAI2K,EAAMpD,EAAOtI,OAAO,EACpB2L,EAAUrD,EAAOoD,GAAK3K,MACtB4K,EAAQ,GAAK,KAAOA,EAAQ,GAAK,KAAOA,EAAQ,GAAK,MACrDrD,EAAOoD,GAAK3K,MAAQ,CAAC,IAAI,IAAI,QAmNlC,CACH+C,SAlFJ,SAAkBN,EAAQoI,GAEtB,IAAKpI,EAAOxD,QAAU4L,EAAY,GAAKA,EAAY,IAE/C,OAAO,EAKX,IAAIxD,EArIR,SAAkB5E,GACd,IAEI6C,EAAO0E,EAAMC,EAAMC,EADnB7C,EAAQ,IAAI9C,MADA,GAAM,EAAIyB,GAU1B,OAPAvD,EAAO6F,QAAQ,SAASyB,GACpBC,EAAOD,EAAM,IAAM9D,EACnBgE,EAAOF,EAAM,IAAM9D,EACnBiE,EAAOH,EAAM,IAAM9D,EACnBX,EAAQc,EAAc4D,EAAMC,EAAMC,GAClC7C,EAAM/B,IAAU+B,EAAM/B,IAAU,GAAK,IAElC+B,EA0HKyD,CAASrI,GAKrB4E,EAAMiB,QAAQ,cAMd,IAAId,EAlIR,SAAwB/E,EAAQ4E,GAC5B,IAGI2C,EAAMC,EAAMC,EAHZa,EAAK,IAASC,EAAK,EACnBC,EAAK,IAASC,EAAK,EACnBC,EAAK,IAASC,EAAK,EAcvB,OAXA3I,EAAO6F,QAAQ,SAASyB,GACpBC,EAAOD,EAAM,IAAM9D,EACnBgE,EAAOF,EAAM,IAAM9D,EACnBiE,EAAOH,EAAM,IAAM9D,EACf+D,EAAOe,EAAMA,EAAOf,EACfA,EAAOgB,IAAMA,EAAOhB,GACzBC,EAAOgB,EAAMA,EAAOhB,EACfA,EAAOiB,IAAMA,EAAOjB,GACzBC,EAAOiB,EAAMA,EAAOjB,EACfA,EAAOkB,IAAOA,EAAOlB,KAE3B,IAAIpD,EAAKiE,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAM/D,GAiHzCgE,CAAe5I,EAAQ4E,GAC9BiE,EAAK,IAAIjF,EAAO,SAAS3J,EAAE8F,GAAK,OAAOwC,EAAGS,aAAa/I,EAAE+K,QAASjF,EAAEiF,WAIxE,SAAS8D,EAAKC,EAAIC,GAId,IAHA,IAEIjE,EAFAkE,EAAU,EACVC,EAAS,EAENA,EAASzF,GAEZ,IADAsB,EAAOgE,EAAG7E,OACAc,QAAV,CAMA,IAAIF,EAASI,EAAeN,EAAOG,GAC/BkB,EAAQnB,EAAO,GACfoB,EAAQpB,EAAO,GAEnB,IAAKmB,EAED,OAOJ,GALA8C,EAAGtM,KAAKwJ,GACJC,IACA6C,EAAGtM,KAAKyJ,GACR+C,KAEAA,GAAWD,EAAQ,OACvB,GAAIE,IAAWzF,EAEX,YArBAsF,EAAGtM,KAAKsI,GACRmE,IAXZL,EAAGpM,KAAKsI,GAqCR+D,EAAKD,EAAInF,EAAqB0E,GAM9B,IAHA,IAAIe,EAAM,IAAIvF,EAAO,SAAS3J,EAAE8F,GAC5B,OAAOwC,EAAGS,aAAa/I,EAAE+K,QAAQ/K,EAAEgL,SAAUlF,EAAEiF,QAAQjF,EAAEkF,YAEtD4D,EAAG1E,QACNgF,EAAI1M,KAAKoM,EAAG3E,OAIhB4E,EAAKK,EAAKf,EAAYe,EAAIhF,QAI1B,IADA,IAAI/D,EAAO,IAAIyE,EACRsE,EAAIhF,QACP/D,EAAK3D,KAAK0M,EAAIjF,OAGlB,OAAO9D,IAvZH,GA+ZRgJ,GAAO,EAELC,cAUN,SAAAA,EAAY9O,GACR,IAAAH,EAAA,OAAA4C,OAAAsM,EAAA,EAAAtM,CAAA7B,KAAAkO,IACIjP,EAAA4C,OAAAuM,EAAA,EAAAvM,CAAA7B,KAAA6B,OAAAwM,EAAA,EAAAxM,CAAAqM,GAAAvG,KAAA3H,KAAMZ,KAGdkP,WAAa,GAJTrP,EAKJsP,iBAAmB,EALftP,EAMJuP,SAAW,GANPvP,EAOJwP,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAPdxP,EAUHyP,aAVG7M,OAAA8M,EAAA,EAAA9M,CAAA+M,EAAA9P,EAAA+P,KAUY,SAAAC,IAAA,IAAAzE,EAAA0E,EAAAC,EAAAC,EAAAC,EAAAC,EAAA/N,EAAA4B,EAAAoM,EAAA,OAAAR,EAAA9P,EAAAuQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAsBRnF,EAAE,EAtBM0E,GAAA,EAAAC,GAAA,EAAAC,OAAArJ,EAAA0J,EAAAC,KAAA,EAAAL,EAuBEjQ,EAAKG,MAAMqQ,OAvBbC,OAAAC,YAAA,UAAAZ,GAAAI,EAAAD,EAAAM,QAAAI,KAAA,CAAAN,EAAAE,KAAA,gBAuBHpO,EAvBG+N,EAAApN,MAyBRjC,QAAQC,IAAI,OAAQsK,GAzBZiF,EAAAE,KAAA,GA2BUK,IAAMC,KAAK1O,GA3BrB,QA2BJ4B,EA3BIsM,EAAAS,KA6BJX,EAAYpM,EAAMgN,kBAAkB,CAACC,UAAU,EAAMC,QAAS,KAClEjR,EAAKqP,WAAWhN,KAAK8N,GAKrB/E,IAnCQ,QAAA0E,GAAA,EAAAO,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAAAN,GAAA,EAAAC,EAAAK,EAAAa,GAAA,QAAAb,EAAAC,KAAA,GAAAD,EAAAC,KAAA,GAAAR,GAAA,MAAAG,EAAAkB,QAAAlB,EAAAkB,SAAA,WAAAd,EAAAC,KAAA,IAAAP,EAAA,CAAAM,EAAAE,KAAA,eAAAP,EAAA,eAAAK,EAAAe,OAAA,mBAAAf,EAAAe,OAAA,mBAqCZvQ,QAAQC,IAAI,mDAAmDd,EAAKG,MAAMqQ,OAAOpO,QA+CjFvB,QAAQC,IAAId,EAAKqP,YApFLgB,EAAAgB,OAAA,SAqFLrR,EAAKqP,YArFA,yBAAAgB,EAAAiB,SAAAzB,EAAA,oCAVZ7P,EAkGJuR,KAlGI,eAAAC,EAAA5O,OAAA8M,EAAA,EAAA9M,CAAA+M,EAAA9P,EAAA+P,KAkGG,SAAA6B,EAAOxP,GAAP,IAAAyP,EAAAvP,EAAAwP,EAAAC,EAAAC,EAAAC,EAAAC,EAAA3G,EAAA,OAAAuE,EAAA9P,EAAAuQ,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,OAKCmB,EAAa,IAAIxM,EACf,EAEG/C,EAAE,EARR,YAQUA,EAAEF,EAAQG,QARpB,CAAA4P,EAAAzB,KAAA,SAAAoB,GAAA,EAAAC,GAAA,EAAAC,OAAAlL,EAAAqL,EAAA1B,KAAA,EAAAwB,EAWe7P,EAAQE,GAXvBsO,OAAAC,YAAA,UAAAiB,GAAAI,EAAAD,EAAAvB,QAAAI,KAAA,CAAAqB,EAAAzB,KAAA,gBAWUnF,EAXV2G,EAAAjP,MAAAkP,EAAAzB,KAAA,GAemBmB,EAAWjL,kBAAkB2E,EAAEjL,MAAMe,IAAK,SAACd,GAErDJ,EAAKuP,SAASlN,KAAKjC,KAjB5B,QAAA4R,EAAAlB,KAAA,QAAAa,GAAA,EAAAK,EAAAzB,KAAA,gBAAAyB,EAAAzB,KAAA,iBAAAyB,EAAA1B,KAAA,GAAA0B,EAAAd,GAAAc,EAAA,SAAAJ,GAAA,EAAAC,EAAAG,EAAAd,GAAA,QAAAc,EAAA1B,KAAA,GAAA0B,EAAA1B,KAAA,GAAAqB,GAAA,MAAAG,EAAAX,QAAAW,EAAAX,SAAA,WAAAa,EAAA1B,KAAA,IAAAsB,EAAA,CAAAI,EAAAzB,KAAA,eAAAsB,EAAA,eAAAG,EAAAZ,OAAA,mBAAAY,EAAAZ,OAAA,YAuBC/F,EAvBD,QAQ2BlJ,IAR3B6P,EAAAzB,KAAA,uBAAAyB,EAAAzB,KAAA,GA0BMvQ,EAAKuP,SA1BX,eAAAyC,EAAAX,OAAA,SAAAW,EAAAlB,MAAA,yBAAAkB,EAAAV,SAAAG,EAAA,oCAlGH,gBAAAQ,GAAA,OAAAT,EAAAtI,MAAAnI,KAAA2F,YAAA,GAAA1G,EA+HJkS,cAAgB,WAMZ,OAFcC,YAAOnS,EAAKqP,WAAYrP,EAAKsP,iBAAkB,CAACjG,cAAe,OAnI7ErJ,EAwIJoS,kBAAoB,YAKN,IAAPpD,IAGHA,GAAO,EACPnO,QAAQC,IAAId,EAAKG,MAAMqQ,QACvBxQ,EAAKyP,eAAe4C,KAAK,WACrB,IAAIC,EAAWtS,EAAKkS,gBACpBI,EAAWA,EAASA,SAEpB,IAAK,IAAInQ,EAAE,EAAEA,EAAEmQ,EAASlQ,OAAOD,IAC3BnC,EAAKwP,GAAG8C,EAASnQ,IAAIE,KAAKzC,EAAAC,EAAAC,cAAA,OAAKoB,IAAKlB,EAAKG,MAAMqQ,OAAOrO,MAG1DnC,EAAKuR,KAAKvR,EAAKwP,IAAI6C,KAAK,WACpBE,WAAW,WACP1R,QAAQC,IAAI0R,KAAKC,UAAUzS,EAAKuP,WAGpC,IAFA,IAAIxG,EAAI,CAAC,GAAG,GAAG,GAAG,GAAG,IACjB2J,EAAE,EACGvQ,EAAE,EAAEA,EAAEnC,EAAKwP,GAAGpN,OAAOD,IAC1B,IAAI,IAAIiJ,EAAE,EAAEA,EAAEpL,EAAKwP,GAAGrN,GAAGC,OAAOgJ,IAE5BrC,EAAE5G,GAAGE,KAAKrC,EAAKuP,SAASmD,IACxBA,IAGR7R,QAAQC,IAAIiI,GACZ/I,EAAK2S,SAAS,CAAC1Q,QAASjC,EAAKwP,GAAIpP,QAAS2I,GAAI,WAC1ClI,QAAQC,IAAId,EAAK4S,UAElB,WA1KX5S,EA2LJ6S,aAAgB,WAEZ,OAAkC,IAA9B7S,EAAK4S,MAAM3Q,QAAQG,OACZ,IAQXvB,QAAQC,IAAI,SAAUd,EAAK4S,OACxB5S,EAAK4S,MAAMxS,QAAQgC,OASfxC,EAAAC,EAAAC,cAACwC,EAAD,CAA0BL,QAASjC,EAAK4S,MAAM3Q,QAAS7B,QAASJ,EAAK4S,MAAMxS,YA9M9EJ,EAAK4S,MAAQ,CAAE3Q,QAAU,GAAI7B,QAAU,IAF3CJ,wEA0NI,OAHAa,QAAQC,IAAI,4BAA6BC,KAAKZ,MAAM2S,kBAIhDlT,EAAAC,EAAAC,cAAA,YACc,IAATkP,IAAkD,IAAhCjO,KAAKZ,MAAM2S,kBAA8B/R,KAAKZ,MAAMqQ,OAAOpO,OAAS,EAAIrB,KAAKqR,oBAAsBrR,KAAK8R,uBAvO5G7R,aAqPhB+R,cAPS,SAACH,GACrB,MAAO,CACHpC,YAAuB7J,IAAfiM,EAAMI,KAANpQ,OAAAqQ,EAAA,EAAArQ,CAA+B,IAAIsQ,IAAIN,EAAMI,KAAK5K,IAAI,SAAA+K,GAAI,OAAIA,EAAKhS,QAAS,GACpF2R,iBAAkBF,EAAME,mBAIjBC,CAAyB9D,GC35B3BmE,EAAuB,uBACvBC,EAAuB,uBACvBC,EAAoB,oBAEpBC,EAAqB,qBACrBC,EAAuB,uBACvBC,EAAgB,gBCHhBC,EAAkB,CAC7BC,SAAU,sFCLNC,EAAe,SAACC,GACpB,OAAOA,EAAMhO,KAAKuC,IAAI,SAAC0L,GACrB,MAAO,CACL3S,IAAK2S,EAASC,WAAW,gBACzBC,OAAQ,aAKRC,EAAiB,SAACJ,GACtB,OAAOA,EAAMK,QAAQ9L,IAAI,SAAC0L,GACxB,MAAO,CACLK,GAAIL,EAASK,GACbhT,IAAK2S,EAASM,KAAT,MACLC,SAAUP,EAASM,KAAT,MACVJ,OAAQ,eAKP,SAASM,EAAUC,GACxB,IAAMC,EAAY,CAShBA,8BAA2C,IAC3CA,mCAAgD,OAChDA,+BAA4C,sBAK9C,OAAO,SAACC,GACNA,EAASC,GAAe,IACxBC,QAAQC,IAAIL,EAAQnM,IAAI,SAAAyM,GAAM,OAC5BC,MAAMD,EAAO1T,IAAK,CAChB4T,OAAQ,MACRC,YAAa,mBACbC,QAAST,IAEVnC,KAAK,SAAC7K,GACH,IAAKA,EAAS0N,GACV,MAAMC,MAAM3N,EAAS4N,YAGzB,OADAX,EAASC,GAAe,IACjBlN,IAEV6K,KAAK,SAAC7K,GAAD,OAAcA,EAAS6N,SAC5BhD,KAAK,SAACwB,GACL,OAAOY,EAmCR,SAA+BZ,EAAOG,GAC3C,IAAIsB,EAAU,GAEA,WAAXtB,IACDsB,EAAU1B,EAAaC,IAEX,aAAXG,IACDsB,EAAUrB,EAAeJ,IAE3B,MAAO,CACH0B,KAAMC,EACNF,WA9CkBG,CAAsB5B,EAAOgB,EAAOb,WAErD0B,MAAM,kBAAMjB,EAOV,CACHc,KAAMC,EACNG,YATsC,SAEvCtD,KAAK,SAACuD,GAAD,OAAcnB,EAASoB,GAAmB,OAkB7C,SAASA,EAAmBC,GACjC,MAAO,CACHP,KAAMC,EACN1C,iBAAkBgD,GAIjB,SAASpB,EAAeoB,GAC7B,MAAO,CACHP,KAAMC,EACNO,UAAWD,OCpFXE,4LAEcvB,GAQhB,IAR0BwB,EAkCmClV,KAAKZ,MAA1D+V,EAlCkBD,EAkClBC,YAAaC,EAlCKF,EAkCLE,iBACfC,GAnCoBH,EAkCaJ,mBACjB,IAChBQ,EAActV,KAAKZ,MAAMkW,YAE/BzT,OAAO0T,KAAK5C,GAAiBjI,QAAQ,SAAA8K,GACnCF,EAAY5K,QAAQ,SAAA+K,GAClB,IAAM3B,EAAS,CACb1T,IAAKuS,EAAgB6C,GAAYC,EACjCxC,OAAQuC,GAEVH,EAAc/T,KAAKwS,OAGvBsB,GAAiB,GACjBD,EAAYE,oCAIKrV,KAAKZ,MAAd6S,KAER,OACEpT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKkD,UAAU,iBA1DDP,IAAMzB,WA0Fb+R,cAlBS,SAACH,GACvB,MAAO,CAIHI,KAAMJ,EAAMI,KACZqD,YAAazD,EAAM6D,kBAIE,SAAChC,GAC1B,MAAO,CACHyB,YAAa,SAAC9B,GAAD,OAAUK,EAASH,EAAUF,KAC1C+B,iBAAkB,SAACrD,GAAD,OAAsB2B,EDjBrC,CACHc,KAAMC,EACN1C,iBCekEA,KAClE+C,mBAAoB,SAAC/C,GAAD,OAAsB2B,EAASoB,EAAmB/C,OAI7DC,CAA6CiD,GC/F/CU,EAAc,CACzB,CACE7S,MAAO,wBACP8S,KAAM,eACNpB,KAAM,SAiBNqB,QAAS,CACP,CAAC/S,MAAO,iBAAiBf,MAAO,kBAChC,CAACe,MAAO,eAAef,MAAO,gBAC9B,CAACe,MAAO,kBAAkBf,MAAO,mBACjC,CAACe,MAAO,OAAOf,MAAO,QACtB,CAACe,MAAO,aAAaf,MAAO,cAC5B,CAACe,MAAO,eAAef,MAAO,gBAC9B,CAACe,MAAO,eAAef,MAAO,gBAC9B,CAACe,MAAO,eAAef,MAAO,gBAC9B,CAACe,MAAO,WAAWf,MAAO,YAC1B,CAACe,MAAO,YAAYf,MAAO,aAC3B,CAACe,MAAO,YAAYf,MAAO,aAC3B,CAACe,MAAO,YAAYf,MAAO,aAC3B,CAACe,MAAO,QAAQf,MAAO,SACvB,CAACe,MAAO,QAAQf,MAAO,SACvB,CAACe,MAAO,cAAcf,MAAO,eAC7B,CAACe,MAAO,gBAAgBf,MAAO,iBAC/B,CAACe,MAAO,iBAAiBf,MAAO,oBAGpC,CACEe,MAAO,+BACP8S,KAAM,mBACNpB,KAAM,WACNsB,eAAgB,CAAC,CACfhT,MAAO,YACPf,MAAO,aACP,CACAe,MAAO,UACPf,MAAO,WACP,CACAe,MAAO,UACPf,MAAO,WACP,CACAe,MAAO,cACPf,MAAO,eACP,CACAe,MAAO,YACPf,MAAO,aACP,CACAe,MAAO,QACPf,MAAO,SACP,CACAe,MAAO,kBACPf,MAAO,mBACP,CACAe,MAAO,MACPf,MAAO,OACP,CACAe,MAAO,gBACPf,MAAO,iBACP,CACAe,MAAO,aACPf,MAAO,gBAIX,CACEe,MAAO,2CACP8S,KAAM,oBACNpB,KAAM,WACNsB,eAAgB,CAAC,CACfhT,MAAO,aACPf,MAAO,cACP,CACAe,MAAO,eACPf,MAAO,gBACP,CACAe,MAAO,aACPf,MAAO,cACP,CACAe,MAAO,YACPf,MAAO,aACP,CACAe,MAAO,cACPf,MAAO,eACP,CACAe,MAAO,WACPf,MAAO,cAGX,CACEe,MAAO,yCACP8S,KAAM,WACNpB,KAAM,WACNsB,eAAgB,CAAC,CACfhT,MAAO,SACPf,MAAO,UACP,CACAe,MAAO,YACPf,MAAO,aACP,CACAe,MAAO,cACPf,MAAO,eACP,CACAe,MAAO,cACPf,MAAO,eACP,CACAe,MAAO,SACPf,MAAO,UACP,CACAe,MAAO,aACPf,MAAO,cACP,CACAe,MAAO,OACPf,MAAO,QACP,CACAe,MAAO,UACPf,MAAO,aAGX,CACEe,MAAO,0CACP8S,KAAM,YACNpB,KAAM,WACNsB,eAAgB,CAAC,CACfhT,MAAO,WACPf,MAAO,YACP,CACAe,MAAO,OACPf,MAAO,QACP,CACAe,MAAO,kBACPf,MAAO,mBACP,CACAe,MAAO,UACPf,MAAO,WACP,CACAe,MAAO,YACPf,MAAO,aACP,CACAe,MAAO,UACPf,MAAO,WACP,CACAe,MAAO,SACPf,MAAO,UACP,CACAe,MAAO,mBACPf,MAAO,oBACP,CACAe,MAAO,aACPf,MAAO,gBAGX,CACEe,MAAO,mCACP8S,KAAM,aACNpB,KAAM,QACNsB,eAAgB,CAAC,CACfC,UAAW,SACXjT,MAAO,cACPf,MAAO,eACP,CACAgU,UAAW,SACXjT,MAAO,SACPf,MAAO,UACP,CACAgU,UAAW,SACXjT,MAAO,UACPf,MAAO,WACP,CACAgU,UAAW,SACXjT,MAAO,SACPf,MAAO,UACP,CACAgU,UAAW,SACXjT,MAAO,WACPf,MAAO,YACP,CACAgU,UAAW,SACXjT,MAAO,OACPf,MAAO,QACP,CACAgU,UAAW,SACXjT,MAAO,UACPf,MAAO,WACP,CACAgU,UAAW,SACXjT,MAAO,UACPf,MAAO,WACP,CACAgU,UAAW,SACXjT,MAA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","file":"static/js/main.45d2f11d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { blockStatement } from '@babel/types';\n\nclass PaletteComponent extends Component {\n\n    makeStyleObject(colors) {\n        return  {\n            backgroundColor: `rgb(${colors[0]},${colors[1]},${colors[2]})`,\n            height: '1.7em',\n            width: '20%',\n            display: 'inline-block',\n            border: '0.5px solid white'\n        };\n    }\n\n    makeStyleObjectTwo() {\n        return  {\n            display: 'inline-block',\n            width: '100%',\n            margin: '0 auto'\n        };\n    }\n\n    sendBlocks = () => {\n        return (\n            <div style={this.makeStyleObjectTwo()}>\n                <div style={this.makeStyleObject(this.props.palette[0])}></div>\n                <div style={this.makeStyleObject(this.props.palette[1])}></div>\n                <div style={this.makeStyleObject(this.props.palette[2])}></div>\n                <div style={this.makeStyleObject(this.props.palette[3])}></div>\n                <div style={this.makeStyleObject(this.props.palette[4])}></div>\n            </div>\n        );\n    }\n\n    render () {\n        // expects this.props.palette to be sent\n        console.log(this.props.palette)\n\n        return (<div>\n            {this.sendBlocks()}\n        </div>)\n    }\n}\n\nexport default PaletteComponent;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PaletteComponent from './PaletteComponent';\n\n// const useStyles = makeStyles({\n//   card: {\n//     width: '32%',\n//     display: 'inline-block'\n//   },\n//   media: {\n//     maxHight: 100,\n//   },\n// });\n\n// export default function MediaCard(props) {\n//   const classes = useStyles();\n\n//   return (\n//     <Card className={classes.card}>\n//       <CardActionArea>\n//         <CardMedia\n//           className={classes.media}\n//           image={props.url}\n//           // title=\"Contemplative Reptile\"\n//         />\n//         <CardContent>\n//           {/* <Typography gutterBottom variant=\"h5\" component=\"h2\">\n//             Lizard\n//           </Typography> */}\n//           {/* <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n//             Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging\n//             across all continents except Antarctica\n//           </Typography> */}\n//           <PaletteComponent palette={props.palette} />\n//         </CardContent>\n//       </CardActionArea>\n//       {/* <CardActions>\n//         <Button size=\"small\" color=\"primary\">\n//           Share\n//         </Button>\n//         <Button size=\"small\" color=\"primary\">\n//           Learn More\n//         </Button>\n//       </CardActions> */}\n//     </Card>\n//   );\n// }\n\n\nfunction makeStyleObject() {\n  return  {\n      \n      width: '32%',\n      display: 'inline-block',\n      margin: '3px auto'\n  };\n}\n\nfunction makeStyleObjectTwo() {\n  return  {\n      \n      width: '100%',\n      border: '1px solid white'\n      // display: 'inline-block',\n  };\n}\n\nexport default function MediaCard(props) {\n  // const classes = useStyles();\n\n  return (\n    <span style={makeStyleObject()}>\n      <img src={props.url} style={makeStyleObjectTwo()} />\n      <PaletteComponent palette={props.palette} />\n    </span>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport PaletteComponent from './PaletteComponent';\nimport MediaCard from './MediaCard';\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" style={{ padding: 8 * 3 }}>\n      {props.children}\n    </Typography>\n  );\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    // flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nfunction printToScreen (cluster, palette) {\n  let jsx = [];\n  for (var i=0;i<cluster.length;i++) {\n    jsx.push(<MediaCard url={cluster[i].props.src} palette={palette[i]} />)\n  }\n  return jsx;\n}\n\nexport default function ScrollableTabsButtonAuto(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  function handleChange(event, newValue) {\n    setValue(newValue);\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n        >\n          <Tab label=\"Mood board 1\" />\n          <Tab label=\"Mood board 2\" />\n          <Tab label=\"Mood board 3\" />\n          <Tab label=\"Mood board 4\" />\n          <Tab label=\"Mood board 5\" />\n        </Tabs>\n      </AppBar>\n      {console.log('from tab - cluster: ', props.cluster)}\n      {console.log('from tab- palette: ', props.palette)}\n\n      {value === 0 && <TabContainer>{printToScreen(props.cluster[0], props.palette[0])}</TabContainer>}\n      {value === 1 && <TabContainer>{printToScreen(props.cluster[1], props.palette[1])}</TabContainer>}\n      {value === 2 && <TabContainer>{printToScreen(props.cluster[2], props.palette[2])}</TabContainer>}\n      {value === 3 && <TabContainer>{printToScreen(props.cluster[3], props.palette[3])}</TabContainer>}\n      {value === 4 && <TabContainer>{printToScreen(props.cluster[4], props.palette[4])}</TabContainer>}\n\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { Image } from 'image-js';\nimport kmeans from 'ml-kmeans';\nimport { connect } from 'react-redux';\nimport ScrollableTabsButtonAuto from './ScrollableTabsButtonAuto';\n// import  * as forEach from 'p-iteration';\n\n\n// import * as Vibrant from 'node-vibrant';\n/*\n * Color Thief v2.0\n * by Lokesh Dhakar - http://www.lokeshdhakar.com\n *\n * Thanks\n * ------\n * Nick Rabinowitz - For creating quantize.js.\n * John Schulz - For clean up and optimization. @JFSIII\n * Nathan Spady - For adding drag and drop support to the demo page.\n *\n * License\n * -------\n * Copyright 2011, 2015 Lokesh Dhakar\n * Released under the MIT license\n * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE\n *\n * @license\n */\n\n\n/*\n  CanvasImage Class\n  Class that wraps the html image element and canvas.\n  It also simplifies some of the canvas context manipulation\n  with a set of helper functions.\n*/\nvar CanvasImage = function (image) {\n    this.canvas  = document.createElement('canvas');\n    this.context = this.canvas.getContext('2d');\n\n    document.body.appendChild(this.canvas);\n\n    this.width  = this.canvas.width  = image.width;\n    this.height = this.canvas.height = image.height;\n\n    this.context.drawImage(image, 0, 0, this.width, this.height);\n};\n\nCanvasImage.prototype.clear = function () {\n    this.context.clearRect(0, 0, this.width, this.height);\n};\n\nCanvasImage.prototype.update = function (imageData) {\n    this.context.putImageData(imageData, 0, 0);\n};\n\nCanvasImage.prototype.getPixelCount = function () {\n    return this.width * this.height;\n};\n\nCanvasImage.prototype.getImageData = function () {\n    return this.context.getImageData(0, 0, this.width, this.height);\n};\n\nCanvasImage.prototype.removeCanvas = function () {\n    this.canvas.parentNode.removeChild(this.canvas);\n};\n\n\nvar ColorThief = function () {};\n\n/*\n * getColor(sourceImage[, quality])\n * returns {r: num, g: num, b: num}\n *\n * Use the median cut algorithm provided by quantize.js to cluster similar\n * colors and return the base color from the largest cluster.\n *\n * Quality is an optional argument. It needs to be an integer. 1 is the highest quality settings.\n * 10 is the default. There is a trade-off between quality and speed. The bigger the number, the\n * faster a color will be returned but the greater the likelihood that it will not be the visually\n * most dominant color.\n *\n * */\nColorThief.prototype.getColor = function(sourceImage, quality) {\n    var palette       = this.getPalette(sourceImage, 5, quality);\n    var dominantColor = palette[0];\n    return dominantColor;\n};\n\n\n/*\n * getPalette(sourceImage[, colorCount, quality])\n * returns array[ {r: num, g: num, b: num}, {r: num, g: num, b: num}, ...]\n *\n * Use the median cut algorithm provided by quantize.js to cluster similar colors.\n *\n * colorCount determines the size of the palette; the number of colors returned. If not set, it\n * defaults to 10.\n *\n * BUGGY: Function does not always return the requested amount of colors. It can be +/- 2.\n *\n * quality is an optional argument. It needs to be an integer. 1 is the highest quality settings.\n * 10 is the default. There is a trade-off between quality and speed. The bigger the number, the\n * faster the palette generation but the greater the likelihood that colors will be missed.\n *\n *\n */\nColorThief.prototype.getPalette = function(sourceImage, colorCount, quality) {\n\n    if (typeof colorCount === 'undefined' || colorCount < 2 || colorCount > 256) {\n        colorCount = 10;\n    }\n    if (typeof quality === 'undefined' || quality < 1) {\n        quality = 10;\n    }\n\n    // Create custom CanvasImage object\n    var image      = new CanvasImage(sourceImage);\n    var imageData  = image.getImageData();\n    var pixels     = imageData.data;\n    var pixelCount = image.getPixelCount();\n\n    // Store the RGB values in an array format suitable for quantize function\n    var pixelArray = [];\n    for (var i = 0, offset, r, g, b, a; i < pixelCount; i = i + quality) {\n        offset = i * 4;\n        r = pixels[offset + 0];\n        g = pixels[offset + 1];\n        b = pixels[offset + 2];\n        a = pixels[offset + 3];\n        // If pixel is mostly opaque and not white\n        if (a >= 125) {\n            if (!(r > 250 && g > 250 && b > 250)) {\n                pixelArray.push([r, g, b]);\n            }\n        }\n    }\n\n    // Send array to quantize function which clusters values\n    // using median cut algorithm\n    var cmap    = MMCQ.quantize(pixelArray, colorCount);\n    var palette = cmap? cmap.palette() : null;\n\n    // Clean up\n    image.removeCanvas();\n\n    return palette;\n};\n\nColorThief.prototype.getColorFromUrl = function(imageUrl, callback, quality) {\n    let sourceImage = document.createElement(\"img\");\n    var thief = this;\n    sourceImage.addEventListener('load' , function(){\n        var palette = thief.getPalette(sourceImage, 5, quality);\n        var dominantColor = palette[0];\n        callback(dominantColor, imageUrl);\n    });\n    sourceImage.src = imageUrl\n};\n\nColorThief.prototype.getPaletteFromUrl = function(imageUrl, callback, quality=1) {\n    let sourceImage = document.createElement(\"img\");\n    var thief = this;\n    sourceImage.addEventListener('load' , function(){\n        var palette = thief.getPalette(sourceImage, 5, quality);\n        // var dominantColor = palette[0];\n        callback(palette, imageUrl);\n    });\n    // console.log('set url')\n    sourceImage.src = imageUrl + '?' + new Date().getTime();\n    sourceImage.setAttribute('crossOrigin', '');\n};\n\n\nColorThief.prototype.getImageData = function(imageUrl, callback) {\n    let xhr = new XMLHttpRequest();\n    xhr.open('GET', imageUrl, true);\n    xhr.responseType = 'arraybuffer'\n    xhr.onload = function(e) {\n        if (this.status == 200) {\n            let uInt8Array = new Uint8Array(this.response)\n            i = uInt8Array.length\n            let binaryString = new Array(i);\n            for (var i = 0; i < uInt8Array.length; i++){\n                binaryString[i] = String.fromCharCode(uInt8Array[i])\n            }\n            let data = binaryString.join('')\n            let base64 = window.btoa(data)\n            callback (\"data:image/png;base64,\"+base64)\n        }\n    }\n    xhr.send();\n};\n\nColorThief.prototype.getColorAsync = function(imageUrl, callback, quality) {\n    var thief = this;\n    this.getImageData(imageUrl, function(imageData){\n        let sourceImage = document.createElement(\"img\");\n        sourceImage.addEventListener('load' , function(){\n            var palette = thief.getPalette(sourceImage, 5, quality);\n            var dominantColor = palette[0];\n            callback(dominantColor, this);\n        });\n        sourceImage.src = imageData;      \n    });\n};\n\n\n\n/*!\n * quantize.js Copyright 2008 Nick Rabinowitz.\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\n * @license\n */\n\n// fill out a couple protovis dependencies\n/*!\n * Block below copied from Protovis: http://mbostock.github.com/protovis/\n * Copyright 2010 Stanford Visualization Group\n * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php\n * @license\n */\nif (!pv) {\n    var pv = {\n        map: function(array, f) {\n          var o = {};\n          return f ? array.map(function(d, i) { o.index = i; return f.call(o, d); }) : array.slice();\n        },\n        naturalOrder: function(a, b) {\n            return (a < b) ? -1 : ((a > b) ? 1 : 0);\n        },\n        sum: function(array, f) {\n          var o = {};\n          return array.reduce(f ? function(p, d, i) { o.index = i; return p + f.call(o, d); } : function(p, d) { return p + d; }, 0);\n        },\n        max: function(array, f) {\n          return Math.max.apply(null, f ? pv.map(array, f) : array);\n        }\n    };\n}\n\n\n\n/**\n * Basic Javascript port of the MMCQ (modified median cut quantization)\n * algorithm from the Leptonica library (http://www.leptonica.com/).\n * Returns a color map you can use to map original pixels to the reduced\n * palette. Still a work in progress.\n *\n * @author Nick Rabinowitz\n * @example\n\n// array of pixels as [R,G,B] arrays\nvar myPixels = [[190,197,190], [202,204,200], [207,214,210], [211,214,211], [205,207,207]\n                // etc\n                ];\nvar maxColors = 4;\n\nvar cmap = MMCQ.quantize(myPixels, maxColors);\nvar newPalette = cmap.palette();\nvar newPixels = myPixels.map(function(p) {\n    return cmap.map(p);\n});\n\n */\nvar MMCQ = (function() {\n    // private constants\n    var sigbits = 5,\n        rshift = 8 - sigbits,\n        maxIterations = 1000,\n        fractByPopulations = 0.75;\n\n    // get reduced-space color index for a pixel\n    function getColorIndex(r, g, b) {\n        return (r << (2 * sigbits)) + (g << sigbits) + b;\n    }\n\n    // Simple priority queue\n    function PQueue(comparator) {\n        var contents = [],\n            sorted = false;\n\n        function sort() {\n            contents.sort(comparator);\n            sorted = true;\n        }\n\n        return {\n            push: function(o) {\n                contents.push(o);\n                sorted = false;\n            },\n            peek: function(index) {\n                if (!sorted) sort();\n                if (index===undefined) index = contents.length - 1;\n                return contents[index];\n            },\n            pop: function() {\n                if (!sorted) sort();\n                return contents.pop();\n            },\n            size: function() {\n                return contents.length;\n            },\n            map: function(f) {\n                return contents.map(f);\n            },\n            debug: function() {\n                if (!sorted) sort();\n                return contents;\n            }\n        };\n    }\n\n    // 3d color space box\n    function VBox(r1, r2, g1, g2, b1, b2, histo) {\n        var vbox = this;\n        vbox.r1 = r1;\n        vbox.r2 = r2;\n        vbox.g1 = g1;\n        vbox.g2 = g2;\n        vbox.b1 = b1;\n        vbox.b2 = b2;\n        vbox.histo = histo;\n    }\n    VBox.prototype = {\n        volume: function(force) {\n            var vbox = this;\n            if (!vbox._volume || force) {\n                vbox._volume = ((vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1));\n            }\n            return vbox._volume;\n        },\n        count: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._count_set || force) {\n                var npix = 0,\n                    index, i, j, k;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                             index = getColorIndex(i,j,k);\n                             npix += (histo[index] || 0);\n                        }\n                    }\n                }\n                vbox._count = npix;\n                vbox._count_set = true;\n            }\n            return vbox._count;\n        },\n        copy: function() {\n            var vbox = this;\n            return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);\n        },\n        avg: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._avg || force) {\n                var ntot = 0,\n                    mult = 1 << (8 - sigbits),\n                    rsum = 0,\n                    gsum = 0,\n                    bsum = 0,\n                    hval,\n                    i, j, k, histoindex;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                             histoindex = getColorIndex(i,j,k);\n                             hval = histo[histoindex] || 0;\n                             ntot += hval;\n                             rsum += (hval * (i + 0.5) * mult);\n                             gsum += (hval * (j + 0.5) * mult);\n                             bsum += (hval * (k + 0.5) * mult);\n                        }\n                    }\n                }\n                if (ntot) {\n                    vbox._avg = [~~(rsum/ntot), ~~(gsum/ntot), ~~(bsum/ntot)];\n                } else {\n//                    console.log('empty box');\n                    vbox._avg = [\n                        ~~(mult * (vbox.r1 + vbox.r2 + 1) / 2),\n                        ~~(mult * (vbox.g1 + vbox.g2 + 1) / 2),\n                        ~~(mult * (vbox.b1 + vbox.b2 + 1) / 2)\n                    ];\n                }\n            }\n            return vbox._avg;\n        },\n        contains: function(pixel) {\n            var vbox = this,\n                rval = pixel[0] >> rshift,\n                gval = pixel[1] >> rshift,\n                bval = pixel[2] >> rshift;\n            return (rval >= vbox.r1 && rval <= vbox.r2 &&\n                    gval >= vbox.g1 && gval <= vbox.g2 &&\n                    bval >= vbox.b1 && bval <= vbox.b2);\n        }\n    };\n\n    // Color map\n    function CMap() {\n        this.vboxes = new PQueue(function(a,b) {\n            return pv.naturalOrder(\n                a.vbox.count()*a.vbox.volume(),\n                b.vbox.count()*b.vbox.volume()\n            );\n        });\n    }\n    CMap.prototype = {\n        push: function(vbox) {\n            this.vboxes.push({\n                vbox: vbox,\n                color: vbox.avg()\n            });\n        },\n        palette: function() {\n            return this.vboxes.map(function(vb) { return vb.color; });\n        },\n        size: function() {\n            return this.vboxes.size();\n        },\n        map: function(color) {\n            var vboxes = this.vboxes;\n            for (var i=0; i<vboxes.size(); i++) {\n                if (vboxes.peek(i).vbox.contains(color)) {\n                    return vboxes.peek(i).color;\n                }\n            }\n            return this.nearest(color);\n        },\n        nearest: function(color) {\n            var vboxes = this.vboxes,\n                d1, d2, pColor;\n            for (var i=0; i<vboxes.size(); i++) {\n                d2 = Math.sqrt(\n                    Math.pow(color[0] - vboxes.peek(i).color[0], 2) +\n                    Math.pow(color[1] - vboxes.peek(i).color[1], 2) +\n                    Math.pow(color[2] - vboxes.peek(i).color[2], 2)\n                );\n                if (d2 < d1 || d1 === undefined) {\n                    d1 = d2;\n                    pColor = vboxes.peek(i).color;\n                }\n            }\n            return pColor;\n        },\n        forcebw: function() {\n            // XXX: won't  work yet\n            var vboxes = this.vboxes;\n            vboxes.sort(function(a,b) { return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color));});\n\n            // force darkest color to black if everything < 5\n            var lowest = vboxes[0].color;\n            if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n                vboxes[0].color = [0,0,0];\n\n            // force lightest color to white if everything > 251\n            var idx = vboxes.length-1,\n                highest = vboxes[idx].color;\n            if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n                vboxes[idx].color = [255,255,255];\n        }\n    };\n\n    // histo (1-d array, giving the number of pixels in\n    // each quantized region of color space), or null on error\n    function getHisto(pixels) {\n        var histosize = 1 << (3 * sigbits),\n            histo = new Array(histosize),\n            index, rval, gval, bval;\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            index = getColorIndex(rval, gval, bval);\n            histo[index] = (histo[index] || 0) + 1;\n        });\n        return histo;\n    }\n\n    function vboxFromPixels(pixels, histo) {\n        var rmin=1000000, rmax=0,\n            gmin=1000000, gmax=0,\n            bmin=1000000, bmax=0,\n            rval, gval, bval;\n        // find min/max\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            if (rval < rmin) rmin = rval;\n            else if (rval > rmax) rmax = rval;\n            if (gval < gmin) gmin = gval;\n            else if (gval > gmax) gmax = gval;\n            if (bval < bmin) bmin = bval;\n            else if (bval > bmax)  bmax = bval;\n        });\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n    }\n\n    function medianCutApply(histo, vbox) {\n        if (!vbox.count()) return;\n\n        var rw = vbox.r2 - vbox.r1 + 1,\n            gw = vbox.g2 - vbox.g1 + 1,\n            bw = vbox.b2 - vbox.b1 + 1,\n            maxw = pv.max([rw, gw, bw]);\n        // only one pixel, no split\n        if (vbox.count() == 1) {\n            return [vbox.copy()];\n        }\n        /* Find the partial sum arrays along the selected axis. */\n        var total = 0,\n            partialsum = [],\n            lookaheadsum = [],\n            i, j, k, sum, index;\n        if (maxw == rw) {\n            for (i = vbox.r1; i <= vbox.r2; i++) {\n                sum = 0;\n                for (j = vbox.g1; j <= vbox.g2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(i,j,k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        else if (maxw == gw) {\n            for (i = vbox.g1; i <= vbox.g2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(j,i,k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        else {  /* maxw == bw */\n            for (i = vbox.b1; i <= vbox.b2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.g1; k <= vbox.g2; k++) {\n                        index = getColorIndex(j,k,i);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        partialsum.forEach(function(d,i) {\n            lookaheadsum[i] = total-d;\n        });\n        function doCut(color) {\n            var dim1 = color + '1',\n                dim2 = color + '2',\n                left, right, vbox1, vbox2, d2, count2=0;\n            for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n                if (partialsum[i] > total / 2) {\n                    vbox1 = vbox.copy();\n                    vbox2 = vbox.copy();\n                    left = i - vbox[dim1];\n                    right = vbox[dim2] - i;\n                    if (left <= right)\n                        d2 = Math.min(vbox[dim2] - 1, ~~(i + right / 2));\n                    else d2 = Math.max(vbox[dim1], ~~(i - 1 - left / 2));\n                    // avoid 0-count boxes\n                    while (!partialsum[d2]) d2++;\n                    count2 = lookaheadsum[d2];\n                    while (!count2 && partialsum[d2-1]) count2 = lookaheadsum[--d2];\n                    // set dimensions\n                    vbox1[dim2] = d2;\n                    vbox2[dim1] = vbox1[dim2] + 1;\n//                    console.log('vbox counts:', vbox.count(), vbox1.count(), vbox2.count());\n                    return [vbox1, vbox2];\n                }\n            }\n\n        }\n        // determine the cut planes\n        return maxw == rw ? doCut('r') :\n            maxw == gw ? doCut('g') :\n            doCut('b');\n    }\n\n    function quantize(pixels, maxcolors) {\n        // short-circuit\n        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n//            console.log('wrong number of maxcolors');\n            return false;\n        }\n\n        // XXX: check color content and convert to grayscale if insufficient\n\n        var histo = getHisto(pixels),\n            histosize = 1 << (3 * sigbits);\n\n        // check that we aren't below maxcolors already\n        var nColors = 0;\n        histo.forEach(function() { nColors++; });\n        if (nColors <= maxcolors) {\n            // XXX: generate the new colors from the histo and return\n        }\n\n        // get the beginning vbox from the colors\n        var vbox = vboxFromPixels(pixels, histo),\n            pq = new PQueue(function(a,b) { return pv.naturalOrder(a.count(), b.count()); });\n        pq.push(vbox);\n\n        // inner function to do the iteration\n        function iter(lh, target) {\n            var ncolors = 1,\n                niters = 0,\n                vbox;\n            while (niters < maxIterations) {\n                vbox = lh.pop();\n                if (!vbox.count())  { /* just put it back */\n                    lh.push(vbox);\n                    niters++;\n                    continue;\n                }\n                // do the cut\n                var vboxes = medianCutApply(histo, vbox),\n                    vbox1 = vboxes[0],\n                    vbox2 = vboxes[1];\n\n                if (!vbox1) {\n//                    console.log(\"vbox1 not defined; shouldn't happen!\");\n                    return;\n                }\n                lh.push(vbox1);\n                if (vbox2) {  /* vbox2 can be null */\n                    lh.push(vbox2);\n                    ncolors++;\n                }\n                if (ncolors >= target) return;\n                if (niters++ > maxIterations) {\n//                    console.log(\"infinite loop; perhaps too few pixels!\");\n                    return;\n                }\n            }\n        }\n\n        // first set of colors, sorted by population\n        iter(pq, fractByPopulations * maxcolors);\n\n        // Re-sort by the product of pixel occupancy times the size in color space.\n        var pq2 = new PQueue(function(a,b) {\n            return pv.naturalOrder(a.count()*a.volume(), b.count()*b.volume());\n        });\n        while (pq.size()) {\n            pq2.push(pq.pop());\n        }\n\n        // next set - generate the median cuts using the (npix * vol) sorting.\n        iter(pq2, maxcolors - pq2.size());\n\n        // calculate the actual colors\n        var cmap = new CMap();\n        while (pq2.size()) {\n            cmap.push(pq2.pop());\n        }\n\n        return cmap;\n    }\n\n    return {\n        quantize: quantize\n    };\n})();\n\nlet once = false;\n\nclass ClusterComponent extends Component {\n\n// accepts an array of objects [{},{},...]\n// returns an array of array of objects (clustered) [ [{},{},...] , [{},{},...] , ...]\n// object format : \n// {\n// URL,\n// palette,\n// ...\n// }\nconstructor(props) \n    { \n        super(props); \n        this.state = { cluster : [], palette : [] }; \n    } \nhistograms = [];\nnumberOfClusters = 5;  \npalettes = [];\ncl = [[],[],[],[],[]];\n\n\n getHistogram = async () => {\n    // let colorThief = new ColorThief();\n    // colorThief.getPaletteFromUrl(i.url, (palette) => {\n    //     i.palette = palette;\n    //     this.palettes.push(palette);\n    // });\n    // return await forEach(this.props.images, async (i) => {\n    //     console.log(i);\n    //     debugger;\n    //     let image = await Image.load(i.url);\n    //     debugger;\n    //     let histogram = image.getColorHistogram({nbSlots: 512});\n    //     this.histograms.push(histogram);\n    //     colorThief.getPaletteFromUrl(i.url, (palette) => {\n    //         i.palette = palette;\n    //     });\n    // });\n\n\n\n\n\n    var j=0;\n    for (let i of this.props.images) {\n        \n        console.log('test', j);\n        // debugger;\n        let image = await Image.load(i);\n        // debugger;\n        let histogram = image.getColorHistogram({useAlpha: true, nbSlots: 64});\n        this.histograms.push(histogram);\n        // colorThief.getPaletteFromUrl(i.url, (palette) => {\n        //     i.palette = palette;\n        //     this.palettes.push(palette);\n        // });\n        j++;\n    }\n    console.log('length------------------------------------------',this.props.images.length)\n\n\n\n\n    // for (var i=0;i<this.props.images.length;i++) {\n    //     // let palette = Vibrant.from(this.props.images[i].url)\n    //     // .getPalette()\n    //     // .then((palette) => {\n    //     //     console.log(palette)\n    //     //     this.props.images[i].palette = palette;\n    //     //     // console.log(this.props)\n    //     // })\n        \n    //     console.log('test', i);\n    //     // debugger;\n    //     let image = await Image.load(this.props.images[i].url);\n    //     // debugger;\n    //     let histogram = image.getColorHistogram({nbSlots: 512});\n    //     this.histograms.push(histogram);\n    //     // colorThief.getPaletteFromUrl(this.props.images[i].url, (palette) => {\n    //     //     this.props.images[i].palette = palette;\n    //     // });\n    // }\n\n    // debugger;\n    // let _ = this.props.images.map(async image => {\n    //     let i = await Image.load(image.url);\n    //     let histogram = i.getColorHistogram({nbSlots: 512});\n    //     this.histograms.push(histogram);\n    //     colorThief.getPaletteFromUrl(image.url, (palette) => {\n    //         image.palette = palette;\n    //         this.palettes.push(palette);\n    //     });\n    //     return 1;\n    // });\n    // debugger;\n\n    // for (var i=0;i<images.length;i++) {\n    //     let histogram = images[i].getColorHistogram({nbSlots: 512});\n    //     this.histograms.push(histogram);\n    //     colorThief.getPaletteFromUrl(this.props.images[i].url, (palette) => {\n    //         this.props.images[i].palette = palette;\n    //     });\n    // }\n\n\n    console.log(this.histograms);\n    return this.histograms;\n}\n\ngetP = async (cluster) => {\n    // debugger;\n    // console.log('called');\n    // debugger;\n    // let p = []\n    let colorThief = new ColorThief();\n    var k=0;\n    // let palettes = [[],[],[],[],[]];\n    for (let i=0;i<cluster.length;i++) {\n        // console.log('cluster: ', c);\n\n        for (let j of cluster[i]) {\n            // console.log(c)\n\n            // console.log(c)\n            let p = await colorThief.getPaletteFromUrl(j.props.src, (palette) => {\n                // return palette;\n                this.palettes.push(palette);\n            });\n            // console.log(p);\n            \n            \n        }\n        k++;\n}\n// console.log(this.palettes);\nreturn await this.palettes;\n}\n\nclusterKMeans = () => {\n    // this.props.images is now an array of objects that has URL as well as palette\n    // console.log(this.histograms.length);\n    // console.log(this.histograms.length);\n    let cluster = kmeans(this.histograms, this.numberOfClusters, {maxIterations: 100});\n    \n    return cluster;\n}\n\ngetPaletteCluster = () => {\n  // loop over array\n  // get palette and add it to object\n \n    // return <img src={this.props.images[0].url}></img>\n    if(once===true) {\n        return ;\n    }\n    once = true;    \n    console.log(this.props.images);\n    this.getHistogram().then(() => {\n        let clusters = this.clusterKMeans();\n        clusters = clusters.clusters;\n\n        for (let i=0;i<clusters.length;i++) {\n            this.cl[clusters[i]].push(<img src={this.props.images[i]}></img>)\n        }\n        // console.log(clusters.clusters);\n        this.getP(this.cl).then(() => {\n            setTimeout(()=>{\n                console.log(JSON.stringify(this.palettes)); // correct result\n            var p = [[],[],[],[],[]];\n            var c=0;\n            for (var i=0;i<this.cl.length;i++) {\n                for(var j=0;j<this.cl[i].length;j++) {\n                    // console.log(this.palettes);\n                    p[i].push(this.palettes[c]);\n                    c++;\n                }\n            }\n            console.log(p);\n            this.setState({cluster: this.cl, palette: p}, () => {\n                console.log(this.state);\n            });\n            }, 5000)\n            \n        });\n        // this.setState({cluster: this.cl}, () => {\n        //     console.log(this.state);\n        // });\n    });\n    \n    // return \"Hello\";\n    \n    // console.log(this.props.images);\n    // console.log(this.histograms);\n     // call cluster function\n    \n    //  return \"Hello\"\n}\n\nshowClusters =  () => {\n    // debugger;\n    if (this.state.cluster.length === 0) {\n        return [];\n    }\n    // let clusters = [[],[],[],[],[]];\n    // // clusters.fill([],0,this.numberOfClusters+1);\n    // for (let i=0;i<this.state.cluster.length;i++) {\n    //     clusters[this.state.cluster[i]].push(<img src={this.props.images[i]}></img>)\n    // }\n    // console.log(clusters);\n    console.log('show: ', this.state)\n    if(this.state.palette.length === 0) {\n    //  this.getP(clusters).then(()=>{\n    //      console.log('palettes: ',this.palettes);\n    //      this.setState({palette: this.palettes});\n    //  });\n    }\n\n    // console.log(this.palettes);\n    // this.setState()\n    return <ScrollableTabsButtonAuto cluster={this.state.cluster} palette={this.state.palette} />;\n    \n    \n}\n\n     render () {\n        // debugger;\n        console.log('=========================', this.props.isGalleryLoading);\n        \n        \n        return (\n            <div>\n                {once === false && this.props.isGalleryLoading === false && this.props.images.length > 0 ? this.getPaletteCluster() : this.showClusters()}\n                \n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        images: state.list !== undefined ? [...new Set(state.list.map(item => item.url))] : [],\n        isGalleryLoading: state.isGalleryLoading,\n    };\n  };\n\nexport default connect(mapStateToProps)(ClusterComponent);","// export const FETCH_IMAGES_STARTED = 'GET_USER_LIST';\n// export const FETCH_IMAGES_SUCCESS = 'GET_USER_LIST';\n// export const FETCH_IMAGES_FAIL = 'GET_USER_LIST';\n\nexport const FETCH_IMAGES_STARTED = 'FETCH_IMAGES_STARTED';\nexport const FETCH_IMAGES_SUCCESS = 'FETCH_IMAGES_SUCCESS';\nexport const FETCH_IMAGES_FAIL = 'FETCH_IMAGES_FAIL';\n\nexport const BEFORE_FETCH_START = 'BEFORE_FETCH_START';\nexport const AFTER_FETCH_COMPLETE = 'AFTER_FETCH_COMPLETE';\nexport const SET_FORM_DATA = 'SET_FORM_DATA';\n\n","export const listofPublicApis = {\n  UNSPLASH: 'UNSPLASH',\n  RESHOT: 'RESHOT',\n  GRATISOGRAPHY: 'GRATISOGRAPHY',\n  FREEPIK: 'FREEPIK',\n};\n\nexport const listOfQueryUrls = {\n  UNSPLASH: 'https://cors-anywhere.herokuapp.com/https://unsplash.com/napi/search/photos?query=',\n  // RESHOT: 'https://api-beta.reshot.com/reshot/search?page%5Bsize%5D=12&q=',\n  // GRATISOGRAPHY: 'https://api.shutterstock.com/v2/images/search?query=',\n  // FREEPIK: 'https://www.freepik.com/xhr/search?dates=any&format=search&page=2&query=',\n}\n","import * as TYPES from './Types';\nimport { listOfQueryUrls } from './constants/urls';\n\nconst getReshotImg = (items) => {\n  return items.data.map((eachItem) => {\n    return {\n      url: eachItem.attributes['standard-url'],\n      source: 'RESHOT',\n    }\n  });\n}\n\nconst getUnsplashImg = (items) => {\n  return items.results.map((eachItem) => {\n    return {\n      id: eachItem.id,\n      url: eachItem.urls['thumb'],\n      smallUrl: eachItem.urls['small'],\n      source: 'UNSPLASH',\n    }\n  });\n}\n\nexport function fetchData(urlObjs) {\n  const headerObj = {};\n  // if(urlObj.source === 'GRATISOGRAPHY') {\n  //   headerObj['Authorization'] = 'Basic NmE4MGM1Yzg1NTRkOGFjNjU1ZmY6Y2MxODdjODliMWYwNjZhYmMwZWUyN2I4NDQwNGY1ZjNkOWJhMjU3NA==';\n  //   headerObj['Origin'] = 'https://gratisography.com';\n  // }\n  // if(urlObj.source === 'UNSPLASH') {\n    // headerObj['Access-Control-Allow-Origin'] = 'https://unsplash.com';\n  // } \n  // else {\n    headerObj['Access-Control-Allow-Origin'] = '*';\n    headerObj['Access-Control-Allow-Credentials'] = 'true';\n    headerObj['Access-Control-Allow-Methods'] = 'GET, POST, OPTIONS';\n    // header(\"Access-Control-Allow-Origin: *\");\n    // header('Access-Control-Allow-Credentials: true');    \n    // header(\"Access-Control-Allow-Methods: GET, POST, OPTIONS\");\n  // }\n  return (dispatch) => {\n    dispatch(itemsIsLoading(true));\n    Promise.all(urlObjs.map(urlObj => \n      fetch(urlObj.url, {\n        method: \"GET\",\n        contentType: 'application/json',\n        headers: headerObj,\n      })\n      .then((response) => {\n          if (!response.ok) {\n              throw Error(response.statusText);\n          }\n          dispatch(itemsIsLoading(false));\n          return response;\n      })\n      .then((response) => response.json())\n      .then((items) => {\n        return dispatch(itemsFetchDataSuccess(items, urlObj.source))\n      })\n      .catch(() => dispatch(itemsHasErrored(true)))\n    ))\n    .then((fullList) => dispatch(afterFetchComplete(false)));\n  };\n}\n\nexport function itemsHasErrored(bool) {\n  return {\n      type: TYPES.FETCH_IMAGES_FAIL,\n      hasErrored: bool\n  };\n}\n\nexport function beforeFetchStart(bool) {\n  return {\n      type: TYPES.BEFORE_FETCH_START,\n      isGalleryLoading: bool\n  };\n}\n\nexport function afterFetchComplete(bool) {\n  return {\n      type: TYPES.AFTER_FETCH_COMPLETE,\n      isGalleryLoading: bool\n  };\n}\n\nexport function itemsIsLoading(bool) {\n  return {\n      type: TYPES.FETCH_IMAGES_STARTED,\n      isLoading: bool\n  };\n}\nexport function itemsFetchDataSuccess(items, source) {\n  let imgObjs = [];\n  // console.log(items);\n  if(source === 'RESHOT') {\n    imgObjs = getReshotImg(items);\n  }\n  if(source === 'UNSPLASH') {\n    imgObjs = getUnsplashImg(items);\n  }\n  return {\n      type: TYPES.FETCH_IMAGES_SUCCESS,\n      imgObjs\n  };\n}\n\nexport function setFormData(formData) {\n  return {\n    type: TYPES.SET_FORM_DATA,\n    formData: formData,\n  }\n}\n","import React from 'react';\nimport { fetchData, beforeFetchStart, afterFetchComplete } from '../actions';\nimport { listOfQueryUrls } from '../constants/urls';\nimport { connect } from 'react-redux';\n\nclass Gallery extends React.Component {\n\n  componentDidMount(dispatch) {\n    // const keywordObj = {\n    //   sky,\n    //   blue,\n    //   fast,\n    //   packaging,\n    // }\n    // const searchList = [\"fresh natural packaging\", \"abstract fruit imagery\", \"packaging\", \"fresh juice\", \"fruit juice\", \"fruit packaging\"];\n    const searchList = [\"Delicious Fruit Juice\",\n      \"Organic Fruit Juice\",\n      \"Sugar-free Fruit Juice\", \n      \"Healthy Fruit Juice\",\n      \"Nutritional Fruit Juice\",\n      \"Fresh Fruit Juice\",\n      \"Natural Fruit Juice\",\n      \n      \"Refreshing Fruit Juice\",\n      \"Revitalizing Fruit Juice\",\n      \"Energizing Fruit Juice\",\n      \"Feel Good Fruit Juice \",\n      \n      \"Travellers Millennials\",\n      \"Health-conscious Millennials\",\n      \"Fun loving Millennials\",\n      \"Educated Millennials\",\n      \"Busy Millennials\",\n      \n      \"Modern Imagery\",\n      \"Vibrant Imagery\",\n      \"Bold Imagery\",\n      \"Playful Imagery\",\n      \"Economical Imagery\",\n      ];\n\n    const { fetchImages, beforeFetchStart, afterFetchComplete} = this.props;\n    const promiseUrlObj = [];\n    const searchTerms = this.props.searchTerms;\n    // debugger;\n    Object.keys(listOfQueryUrls).forEach(eachSource => {\n      searchTerms.forEach(eachListItem => {\n        const urlObj = {\n          url: listOfQueryUrls[eachSource]+eachListItem,\n          source: eachSource,\n        }\n        promiseUrlObj.push(urlObj);\n      });\n    });\n    beforeFetchStart(true);\n    fetchImages(promiseUrlObj);\n  }\n\n  render() {\n    const { list } = this.props;\n    // debugger;\n    return (\n      <div>\n        <div className=\"hide\">\n          {/* {\n            list && list.length > 0 ? \n              list.map(eachListItem => {\n                return <img src={eachListItem.url}/>\n              })\n            : null\n          } */}\n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n      // items: state.items,\n      // hasErrored: state.itemsHasErrored,\n      // isLoading: state.isLoading,\n      list: state.list,\n      searchTerms: state.searchTermArray,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      fetchImages: (urls) => dispatch(fetchData(urls)),\n      beforeFetchStart: (isGalleryLoading) => dispatch(beforeFetchStart(isGalleryLoading)),\n      afterFetchComplete: (isGalleryLoading) => dispatch(afterFetchComplete(isGalleryLoading)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Gallery);","export const questionSet = [\n  {\n    label: 'What is your product?',\n    name: 'aboutProduct',\n    type: 'select',\n    // options: [{\n    //   label: 'Water',\n    //   value: 'WATER',\n    // },{\n    //   label: 'Energy & Soft Drinks',\n    //   value: 'Energy and Soft Drinks',\n    // },{\n    //   label: 'Tea',\n    //   value: 'TEA',\n    // },{\n    //   label: 'Fruit Juices & Drinks',\n    //   value: 'Fruit Juices and Drinks',\n    // }, {\n    //   label: 'Coffee',\n    //   value: 'COFFEE',\n    // }]\n    options: [\n      {label: 'Packaged Water',value: 'Packaged Water'},\n      {label: 'Spring Water',value: 'Spring Water'},\n      {label: 'Flavoured Water',value: 'Flavoured Water'},\n      {label: 'Soda',value: 'Soda'},\n      {label: 'Cold Drink',value: 'Cold Drink'},\n      {label: 'Sports Drink',value: 'Sports Drink'},\n      {label: 'Energy Drink',value: 'Energy Drink'},\n      {label: 'Cocktail Mix',value: 'Cocktail Mix'},\n      {label: 'Leaf Tea',value: 'Leaf Tea'},\n      {label: 'Green Tea',value: 'Green Tea'},\n      {label: 'Black Tea',value: 'Black Tea'},\n      {label: 'White Tea',value: 'White Tea'},\n      {label: 'Juice',value: 'Juice'},\n      {label: 'Syrup',value: 'Syrup'},\n      {label: 'Concentrate',value: 'Concentrate'},\n      {label: 'Ground Coffee',value: 'Ground Coffee'},\n      {label: 'Instant Coffee',value: 'Instant Coffee'},\n    ]\n  },\n  {\n    label: 'What describes your product?',\n    name: 'tangibleBenefits',\n    type: 'checkbox',\n    possibleValues: [{\n      label: 'Delicious',\n      value: 'DELICIOUS',\n    },{\n      label: 'Organic',\n      value: 'ORGANIC',\n    },{\n      label: 'Healthy',\n      value: 'HEALTHY',\n    },{\n      label: 'Nutritional',\n      value: 'NUTRITIONAL',\n    },{\n      label: 'Home-made',\n      value: 'HOME-MADE',\n    },{\n      label: 'Fresh',\n      value: 'FRESH',\n    },{\n      label: 'No-preservative',\n      value: 'NO-PRESERVATIVE',\n    },{\n      label: 'Raw',\n      value: 'RAW',\n    },{\n      label: 'Locally-grown',\n      value: 'LOCALLY-GROWN',\n    },{\n      label: 'Sugar-free',\n      value: 'SUGAR FREE',\n    }]\n    \n  },\n  {\n    label: 'What are other benefits of your product?',\n    name: 'emotionalBenefits',\n    type: 'checkbox',\n    possibleValues: [{\n      label: 'Refreshing',\n      value: 'REFRESHING',\n    },{\n      label: 'Revitalizing',\n      value: 'REVITALIZING',\n    },{\n      label: 'Energizing',\n      value: 'ENERGIZING',\n    },{\n      label: 'Feel good',\n      value: 'FEEL GOOD',\n    },{\n      label: 'Stimulating',\n      value: 'STIMULATING',\n    },{\n      label: 'Engaging',\n      value: 'ENGAGING',\n    }]\n  },\n  {\n    label: 'What is the age of your target users ?',\n    name: 'ageGroup',\n    type: 'checkbox',\n    possibleValues: [{\n      label: 'Babies',\n      value: 'BABIES',\n    },{\n      label: 'Teenagers',\n      value: 'TEENAGERS',\n    },{\n      label: 'School kids',\n      value: 'SCHOOL KIDS',\n    },{\n      label: 'Millennials',\n      value: 'MILLENNIALS',\n    },{\n      label: 'Adults',\n      value: 'ADULTS',\n    },{\n      label: 'Youngsters',\n      value: 'YOUNGSTERS',\n    },{\n      label: 'Pets',\n      value: 'PETS',\n    },{\n      label: 'Elderly',\n      value: 'ELDERLY',\n    }]\n  },\n  {\n    label: 'What is the type of your target users ?',\n    name: 'groupType',\n    type: 'checkbox',\n    possibleValues: [{\n      label: 'Pregnant',\n      value: 'PREGNANT',\n    },{\n      label: 'Sick',\n      value: 'SICK',\n    },{\n      label: 'Business person',\n      value: 'BUSINESS PERSON',\n    },{\n      label: 'Athlete',\n      value: 'ATHLETE',\n    },{\n      label: 'Traveller',\n      value: 'TRAVELLER',\n    },{\n      label: 'Parents',\n      value: 'PARENTS',\n    },{\n      label: 'Foodie',\n      value: 'FOODIE',\n    },{\n      label: 'Health-conscious',\n      value: 'HEALTH-CONSCIOUS',\n    },{\n      label: 'Fun loving',\n      value: 'FUN LOVING',\n    }]\n  },\n  {\n    label: 'What does your brand stand for ?',\n    name: 'brandStand',\n    type: 'radio',\n    possibleValues: [{\n      radioName: 'radioA',\n      label: 'Traditional',\n      value: 'Traditional',\n    },{\n      radioName: 'radioA',\n      label: 'Modern',\n      value: 'MODERN',\n    },{\n      radioName: 'radioB',\n      label: 'Vibrant',\n      value: 'VIBRANT',\n    },{\n      radioName: 'radioB',\n      label: 'Subtle',\n      value: 'SUBTLE',\n    },{\n      radioName: 'radioC',\n      label: 'Delicate',\n      value: 'DELICATE',\n    },{\n      radioName: 'radioC',\n      label: 'Bold',\n      value: 'BOLD',\n    },{\n      radioName: 'radioD',\n      label: 'Playful',\n      value: 'PLAYFUL',\n    },{\n      radioName: 'radioD',\n      label: 'Serious',\n      value: 'SERIOUS',\n    },{\n      radioName: 'radioE',\n      label: 'Minimal',\n      value: 'MINIMAL',\n    },{\n      radioName: 'radioE',\n      label: 'Complex',\n      value: 'COMPLEX',\n    },{\n      radioName: 'radioF',\n      label: 'Economical',\n      value: 'ECONOMICAL',\n    },{\n      radioName: 'radioF',\n      label: 'Luxurious',\n      value: 'LUXURIOUS',\n    }\n  ],\n  },\n]\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { questionSet } from '../constants/brief';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { setFormData } from '../actions';\n\nclass Brief extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      'form': {\n        'questionName': {\n        }\n      },\n    }\n    this.pageRef = React.createRef();\n  }\n  handleChange(e, inpName, value) {\n    const { form } = this.state;\n    const { questionName } = form;\n    if(e.target.type === \"select-one\") {\n      form.questionName[inpName] = [e.target.value];\n      this.setState(form);\n    } else if(e.target.type === \"checkbox\"){\n      const values = questionName[inpName];\n      if(questionName[inpName] === undefined) {\n        form.questionName[inpName] = [value];\n        this.setState(form);\n      } else {\n        if(values.indexOf(value) === -1) {\n          if(e.target.checked) {\n            values.push(value);\n          } else {\n            values.splice(values.indexOf(value),1);\n          }\n        }\n        form.questionName[inpName] = values;\n        this.setState(form);\n      }\n    } else if(e.target.type === \"radio\"){\n      const values = questionName[inpName];\n      if(values === undefined) {\n        form.questionName[inpName] = [value];\n        this.setState(form);\n      } else {\n        if(values.indexOf(value) === -1) {\n          if(e.target.checked) {\n            values.push(value);\n          } else {\n            values.splice(values.indexOf(value),1);\n          }\n        }\n        form.questionName[inpName] = values;\n        this.setState(form);\n      }\n    }\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.setFormData(this.state.form);\n    this.props.moveTo('moodboard');\n  }\n\n  render() {\n    return (\n      <div ref={this.pageRef}>\n        <Form>\n          {\n            questionSet.map(questionObj => {\n              switch(questionObj.type) {\n                case 'select': {\n                  return(\n                    <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                      <Form.Label>{questionObj.label}</Form.Label>\n                      <Form.Control as=\"select\" onChange={(e) => this.handleChange(e, questionObj.name)}>\n                        {\n                          questionObj.options.map(option => {\n                            return(\n                              <option value={option.value}>{option.label}</option>\n                            );\n                          })\n                        }\n                      </Form.Control>\n                    </Form.Group>\n                  )\n                }\n                case 'checkbox': {\n                  return(\n                    <div class=\"form-group\">\n                      <Form.Label>{questionObj.label}</Form.Label>\n                      {\n                        questionObj.possibleValues.map(eachCheckbox => {\n                          return <Form.Check \n                          type=\"checkbox\"\n                          label={eachCheckbox.label}\n                          data-label={eachCheckbox.label}\n                          onChange={(e) => this.handleChange(e, questionObj.name, eachCheckbox.value)}\n                        />\n                        })\n                      }\n                    </div>\n                  );\n                }\n                case 'radio': {\n                  return(\n                    <div class=\"form-group\">\n                      <Form.Label>{questionObj.label}</Form.Label>\n                      {\n                        questionObj.possibleValues.map(eachCheckbox => {\n                          return <Form.Check \n                          type=\"radio\"\n                          label={eachCheckbox.label}\n                          data-label={eachCheckbox.label}\n                          name={eachCheckbox.radioName}\n                          onChange={(e) => this.handleChange(e, questionObj.name, eachCheckbox.value)}\n                        />\n                        })\n                      }\n                    </div>\n                  );\n                }\n              }\n            })\n          }\n          <Button variant=\"primary\" type=\"submit\" onClick={this.handleClick.bind(this)}>\n            Submit\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      \n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setFormData: (formData) => dispatch(setFormData(formData)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Brief);\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport ClusterComponent from './components/ClusterComponent';\nimport Gallery from './components/Gallery.js';\nimport Brief from './components/Brief.js';\n// import MoodBoard from './components/Moodboard.js';\n\n\n// let url1 = \"https://homepages.cae.wisc.edu/~ece533/images/airplane.png\";\n// let url2 = \"https://homepages.cae.wisc.edu/~ece533/images/arctichare.png\";\n// let url3 = \"https://homepages.cae.wisc.edu/~ece533/images/baboon.png\";\n// let url4 = \"https://homepages.cae.wisc.edu/~ece533/images/barbara.png\";\n// let url5 = \"https://homepages.cae.wisc.edu/~ece533/images/boat.png\";\n// let url6 = \"https://homepages.cae.wisc.edu/~ece533/images/cat.png\";\n// let url7 = \"https://homepages.cae.wisc.edu/~ece533/images/fruits.png\";\n// let url8 = \"https://homepages.cae.wisc.edu/~ece533/images/frymire.png\";\n// let url9 = \"https://homepages.cae.wisc.edu/~ece533/images/girl.png\";\n// let url10 = \"https://homepages.cae.wisc.edu/~ece533/images/goldhill.png\";\n// let url11= \"https://homepages.cae.wisc.edu/~ece533/images/lena.png\";\n// let url12 = \"https://homepages.cae.wisc.edu/~ece533/images/monarch.png\";\n// let url13 = \"https://homepages.cae.wisc.edu/~ece533/images/mountain.png\";\n// let url14 = \"https://homepages.cae.wisc.edu/~ece533/images/peppers.png\";\n// let url15 = \"https://homepages.cae.wisc.edu/~ece533/images/pool.png\";\n\n// let images = [\n//   {url:url1},\n//   {url:url2},\n//   {url:url3},\n//   {url:url4},\n//   {url:url5},\n//   {url:url6},\n//   {url:url7},\n//   {url:url8},\n//   {url:url9},\n//   {url:url10},\n//   {url:url11},\n//   {url:url12},\n//   {url:url13},\n//   {url:url14},\n//   {url:url15},\n// ];\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: 'brief',\n    };\n  }\n\n  sectionShown = (string) => {\n    this.setState({shown: string})\n  }\n\n\n  render() {\n    const { list } = this.props;\n    return (\n      <div className=\"App\">\n        <h1></h1>\n        <header>\n        </header>\n        <div className=\"aligner\">\n        {\n          this.state.shown === 'brief' ?\n          <Brief moveTo={this.sectionShown}/>\n          : null\n        }\n        {\n          this.state.shown === 'gallery' ?\n          <Gallery moveTo={this.sectionShown}/>\n          : null\n        }\n        {\n          this.state.shown === 'moodboard' ?\n          <>\n            <Gallery moveTo={this.sectionShown}/>\n            <ClusterComponent />\n          </>\n          : null\n        }\n        </div>\n        \n        {/* <ClusterComponent images={[{url:url1},{url:url2},{url:url2},{url:url1},{url:url2}]} /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as TYPES from './Types';\n\nconst getSearchTerms = (formData) => {\n  let searchTerms = [];\n  searchTerms = searchTerms.concat(formData.questionName.aboutProduct);\n  searchTerms = searchTerms.concat(formData.questionName.emotionalBenefits.map((each) => {\n    return each + ' ' + formData.questionName.aboutProduct;\n  }));\n  searchTerms = searchTerms.concat(formData.questionName.tangibleBenefits.map((each) => {\n    return each + ' ' + formData.questionName.aboutProduct;\n  }));\n  for(let i=0;i<formData.questionName.groupType.length;i++) {\n    for(let j=0;j<formData.questionName.ageGroup.length;j++) {\n      searchTerms.push(formData.questionName.groupType[i]+' '+formData.questionName.ageGroup[j]);\n    }\n  }\n  for(let i=0;i<formData.questionName.brandStand.length;i++) {\n    searchTerms.push(formData.questionName.brandStand[i]+' imagery');\n    searchTerms.push(formData.questionName.brandStand[i]+' packaging');\n  }\n  return searchTerms;\n}\n\nconst initialState = {\n  searchTermArray:[],\n  isGalleryLoading: false,\n  user: {},\n};\n\nexport default(state = initialState, action) => {\n  switch (action.type) {\n    case TYPES.FETCH_IMAGES_STARTED: {\n      return state;\n    }\n    case TYPES.FETCH_IMAGES_SUCCESS: {\n      \n      const imgObjs = action.imgObjs;\n      const newObj = {...state};\n      if(state.list === undefined) {\n        newObj.emptyList = true;\n        newObj.list = imgObjs;\n      } else {\n        newObj.list = state.list.concat(\n          imgObjs.filter((object) => !state.list.map((x) => x.id).includes(object.uniqueId)),\n        );\n        // newObj.list = state.list.concat(imgObjs);\n      }\n      newObj.loaded = true;\n      return newObj;\n    }\n    case TYPES.BEFORE_FETCH_START: {\n      const newObj = {...state};\n      newObj.isGalleryLoading = action.isGalleryLoading\n      return newObj;\n    }\n    case TYPES.AFTER_FETCH_COMPLETE: {\n      const newObj = {...state};\n      newObj.isGalleryLoading = action.isGalleryLoading\n      console.log('from reducer: ',newObj.list.length, ' ; ');\n      return newObj;\n    }\n    case TYPES.SET_FORM_DATA: {\n      const newObj = {...state};\n      newObj.formData = action.formData;\n      newObj.searchTermArray = getSearchTerms(action.formData);\n      return newObj;\n    }\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport configureStore from './store';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nexport default function configureStore(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        applyMiddleware(thunk)\n    );\n}\n"],"sourceRoot":""}